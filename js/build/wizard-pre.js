//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

// Backbone.Wreqr (Backbone.Marionette)
// ----------------------------------
// v1.3.0
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.wreqr

// Backbone.BabySitter
// -------------------
// v0.1.2
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.babysitter

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v1.8.3
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/**
 * Adapted from the official plugin text.js
 *
 * Uses UnderscoreJS micro-templates : http://documentcloud.github.com/underscore/#template
 * @author Julien Caban√®s <julien@zeeagency.com>
 * @version 0.2
 * 
 * @license RequireJS text 0.24.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(e,t){if(typeof define=="function"&&define.amd)define("jquery",[],function(){return jQuery}),define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone.wreqr",["exports","backbone","underscore"],function(e,n,r){t(e,n,r)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");t(exports,n,r)}else t({},e.Backbone,e._)}(this,function(e,t,n){"use strict";var r=t.Wreqr;t.Wreqr=e,t.Wreqr.VERSION="1.3.0",t.Wreqr.noConflict=function(){return t.Wreqr=r,this},e.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)return;return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,n),e.CommandStorage=function(){var e=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)};return n.extend(e.prototype,t.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),e}(),e.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,function(e){t.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;n.isFunction(r)?t=new r:t=r,this.storage=t}})}(e),e.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(e),e.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(t,n),e.Channel=function(e){var r=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return n.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,t,r){if(!t)return;r=r||this;var i=e==="vent"?"on":"setHandler";n.each(t,function(t,s){this[e][i](s,n.bind(t,r))},this)}}),r}(e),e.radio=function(e){var t=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};n.extend(t.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){n.each(["vent","commands","reqres"],function(e){n.each(r[e],function(t){this[e][t]=i(this,e,t)},this)},this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},i=function(e,t,n){return function(r){var i=e._getChannel(r)[t],s=Array.prototype.slice.call(arguments,1);return i[n].apply(i,s)}};return new t}(e)}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone.babysitter",["exports","backbone","underscore"],function(e,n,r){return t(n,r)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");module.exports=t(n,r)}else t(e.Backbone,e._)}(this,function(e,t){"use strict";var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.2",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}),function(e,t){if(typeof exports=="object"){var n=require("underscore"),r=require("backbone"),i=require("backbone.wreqr"),s=require("backbone.babysitter");module.exports=t(n,r,i,s)}else typeof define=="function"&&define.amd&&define("marionette",["underscore","backbone","backbone.wreqr","backbone.babysitter"],t)}(this,function(e,t){var n=function(e,t,n){"use strict";function s(e,t){var n=new Error(e);throw n.name=t||"Error",n}var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;return r.extend=t.Model.extend,r.getOption=function(e,t){if(!e||!t)return;var n;return e.options&&t in e.options&&e.options[t]!==undefined?n=e.options[t]:n=e[t],n},r.normalizeMethods=function(e){var t={},r;return n.each(e,function(e,i){r=e,n.isFunction(r)||(r=this[r]);if(!r)return;t[i]=r},this),t},r.normalizeUIKeys=function(e,t){if(typeof e=="undefined")return;return n.each(n.keys(e),function(n){var r=/@ui.[a-zA-Z_$0-9]*/g;n.match(r)&&(e[n.replace(r,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e},r.actAsCollection=function(e,t){var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(r,function(r){e[r]=function(){var e=n.values(n.result(this,t)),i=[e].concat(n.toArray(arguments));return n[r].apply(n,i)}})},r.triggerMethod=function(){function t(e,t,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi,r=function(r){var i="on"+r.replace(e,t),s=this[i];n.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(n.isFunction(s))return s.apply(this,n.tail(arguments))};return r}(),r.MonitorDOMRefresh=function(e){function t(e){e._isShown=!0,i(e)}function r(e){e._isRendered=!0,i(e)}function i(e){e._isShown&&e._isRendered&&s(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function s(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){r(e)})}}(document.documentElement),function(e){function t(e,t,r,i){var o=i.split(/\s+/);n.each(o,function(n){var i=e[n];i||s("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i)})}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];e.stopListening(t,r,i)})}function o(e,t,n,r){e.stopListening(t,n,r)}function u(e,t,r,i,s){if(!t||!r)return;n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):s(e,t,o,r)})}e.bindEntityEvents=function(e,n,i){u(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){u(e,t,n,o,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,r){t&&(n=t),e.call(n,r)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening();var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(e)),this.off()}}),r.Region=function(e){this.options=e||{},this.el=r.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError");if(this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(r.Region,{buildRegion:function(e,t){var r=n.isString(e),i=n.isString(e.selector),o=n.isUndefined(e.regionType),u=n.isFunction(e);!u&&!r&&!i&&s("Region must be specified as a Region type, a selector string or an object with selector property");var a,f;r&&(a=e),e.selector&&(a=e.selector,delete e.selector),u&&(f=e),!u&&o&&(f=t),e.regionType&&(f=e.regionType,delete e.regionType);if(r||u)e={};e.el=a;var l=new f(e);return e.parentEl&&(l.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),l}}),n.extend(r.Region.prototype,t.Events,{show:function(e,t){this.ensureEl();var i=t||{},s=e.isClosed||n.isUndefined(e.$el),o=e!==this.currentView,u=!!i.preventClose,a=!u&&o;a&&this.close(),e.render(),r.triggerMethod.call(this,"before:show",e),r.triggerMethod.call(e,"before:show"),(o||s)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){if(!this.$el||this.$el.length===0)this.$el=this.getEl(this.el)},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;if(!e||e.isClosed)return;e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close",e),delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s},this),r},addRegion:function(t,r){var i,s=n.isObject(r),o=n.isString(r),u=!!r.selector;return o||s&&u?i=e.Region.buildRegion(r,e.Region):n.isFunction(r)?i=e.Region.buildRegion(r,e.Region):i=r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return(!t||t.length===0)&&s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){e||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");var n;return typeof e=="function"?n=e:n=r.TemplateCache.get(e),n(t)}},r.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),n.isObject(this.behaviors)&&new r.Behaviors(this),t.View.prototype.constructor.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:r.triggerMethod,normalizeMethods:r.normalizeMethods,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui");return r.normalizeUIKeys(e,t)},configureTriggers:function(){if(!this.triggers)return;var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,r){var i=n.isObject(t),s=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,o=i?t.preventDefault:n,u=i?t.stopPropagation:r;o&&n&&n.apply(e),u&&r&&r.apply(e)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,a)}},this),e},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=n.result(this,"behaviorEvents")||{},s=this.configureTriggers();n.extend(r,i,e,s),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(this.isClosed)return;var e=Array.prototype.slice.call(arguments),t=this.triggerMethod.apply(this,["before:close"].concat(e));if(t===!1)return;this.isClosed=!0,this.triggerMethod.apply(this,["close"].concat(e)),this.unbindUIElements(),this.remove()},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){if(this.isClosed)return;this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed")}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){r.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each(function(e){r.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return r.getOption(this,"emptyView")},getItemView:function(e){var t=r.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var s=r.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,i));var o=this.buildItemView(e,t,s);return this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,i),this._isShown&&!this.isBuffering&&r.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o),o},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var s=i.call(arguments),o=s[0],u=this.normalizeMethods(this.getItemEvents());s[0]=t+":"+o,s.splice(1,0,e),typeof u!="undefined"&&n.isFunction(u[o])&&u[o].apply(this,s),r.triggerMethod.apply(this,s)},this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(e.close?e.close():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||this.collection.length===0},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(this.isClosed)return;this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,arguments)},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendBuffer:function(e,t){var n=this.getItemViewContainer(e);n.append(t)},appendHtml:function(e,t,n){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var r=this.getItemViewContainer(e);r.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var o=n.isFunction(i)?i.call(e):i;o.charAt(0)==="@"&&e.ui?t=e.ui[o.substr(4)]:t=e.$(o),t.length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},close:function(){if(this.isClosed)return;this.regionManager.close(),r.ItemView.prototype.close.apply(this,arguments)},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),n.isFunction(this.regions)?t=this.regions(e):t=this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),r.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){},close:function(){this.stopListening()},triggerMethod:r.triggerMethod}),n.extend=r.extend,n}(n,t),r.Behaviors=function(e,t){function n(e){this.behaviors=n.parseBehaviors(e,t.result(e,"behaviors")),n.wrap(e,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","onShow","onClose","behaviorEvents","triggerMethod","setElement","close"])}var r={setElement:function(e,n){e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el},this)},close:function(e,n){var r=t.tail(arguments,2);e.apply(this,r),t.invoke(n,"close",r)},onShow:function(n,r){var i=t.tail(arguments,2);t.each(r,function(t){e.triggerMethod.apply(t,["show"].concat(i))}),t.isFunction(n)&&n.apply(this,i)},onClose:function(n,r){var i=t.tail(arguments,2);t.each(r,function(t){e.triggerMethod.apply(t,["close"].concat(i))}),t.isFunction(n)&&n.apply(this,i)},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var r=t.tail(arguments,2);e.apply(this,r),t.each(n,function(t){e.apply(t,r)})},delegateEvents:function(n,r){var i=t.tail(arguments,2);n.apply(this,i),t.each(r,function(t){e.bindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(n,r){var i=t.tail(arguments,2);n.apply(this,i),t.each(r,function(t){e.unbindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(n,r){var i={},s=t.result(this,"ui");return t.each(r,function(n,r){var o={},u=t.result(n,"events")||{},a=t.result(n,"ui"),f=t.extend({},s,a);u=e.normalizeUIKeys(u,f),t.each(t.keys(u),function(e){var i=(new Array(r+2)).join(" "),s=e+i,a=t.isFunction(u[e])?u[e]:n[u[e]];o[s]=t.bind(a,n)}),i=t.extend(i,o)}),i}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,r){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[r]:n.behaviorsLookup[r]},parseBehaviors:function(e,r){return t.map(r,function(t,r){var i=n.getBehaviorClass(t,r);return new i(t,e)})},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(r[i],e[i],n)})}}),n}(r,n),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){var r=n.invert(this.appRoutes)[e];n.isFunction(this.onRoute)&&this.onRoute(e,r,t)},processAppRoutes:function(e,t){if(!t)return;var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];i||s("Method '"+r+"' was not found on the controller"),this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=r.Module.getClass(t),s=i.call(arguments);return s.unshift(this),n.create.apply(n,s)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),r.Application.extend=r.extend,r.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},r.Module.extend=r.extend,n.extend(r.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized)return;n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(!e)return;var s=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,s)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var s=e,o=i.call(arguments);o.splice(0,3),t=t.split(".");var u=t.length,a=[];return a[u-1]=r,n.each(t,function(t,n){var i=s;s=this._getModule(i,t,e,r),this._addModuleDefinition(i,s,a[n],o)},this),s},_getModule:function(e,t,r,i,s){var o=n.extend({},i),u=this.getClass(i),a=e[t];return a||(a=new u(t,r,o),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,r){var i=this._getDefine(n),s=this._getStartWithParent(n,t);i&&t.addDefinition(i,r),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof r.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof r.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n;if(!t.startWithParent||!!t.startWithParentIsConfigured)return;t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)})}}),r}(this,t,e);return t.Marionette}),define("models/wizard_model",["backbone"],function(e){var t=e.Model.extend({defaults:{currentStep:1,lastCompletedStep:0,step_1_status:"active",step_1_breadcrumb:"",step_2_status:"not-yet-selected",step_2_breadcrumb:"",step_3_status:"not-yet-selected",step_3_breadcrumb:"",step_4_status:"not-yet-selected",step_4_breadcrumb:"",step_5_status:"not-yet-selected",step_5_breadcrumb:"",step_6_status:"not-yet-selected",step_6_breadcrumb:"",selectedAnswers:[null,null,null,null,null,null],selectedPackages:[],formData:{}},initialize:function(){},enquiryReference:function(){var e=this.get("selectedAnswers"),t=e[1]+"",n={1e4:"myself",2e4:"family",3e4:"patient"};return n[t]||"not selected"},getAnswerForStep:function(e){var t=this.get("selectedAnswers");if(e<0||e>4)throw new Error("Can only get answers for steps 1 to 4");return t[e]},getParentAnswerForStep:function(e){var t=e-1;console.log("getParentAnswerForStep for step",e);if(e===1)return null;while(this.get("step_"+t+"_status")!=="done"&&t>0)console.log("Going back 1 step"),t-=1;if(t<1)throw new Error("Could not find a valid parent step.");return console.log("Last valid parent step is",t),this.getAnswerForStep(t)},setAnswer:function(e,t){var n=this.get("selectedAnswers");if(e<1||e>4)throw new Error("Can only set answers for steps 1 to 4");return n=_.map(n,function(n,r){return r<e?n:r===e?t:null}),this.set("selectedAnswers",n),n},resetStepsFrom:function(e){for(var t=7;e<t;e++)this.resetStep(e)},resetStep:function(e){var t={};if(e<0||e>6)throw new Error("Cannot reset step. Step must be in between 1 and 5");return t["step_"+e+"_status"]=e===1?"active":"not-yet-selected",t["step_"+e+"_breadcrumb"]="",this.set(t),e===5&&this.set("selectedPackages",[]),!0},addPackage:function(e){var t=this.get("selectedPackages");if(_.indexOf(t,e)>-1){console.log("Package already selected");return}return t.push(e),this.set("selectedPackages",t),t},removePackage:function(e){var t=this.get("selectedPackages");return t=_.without(t,e),this.set("selectedPackages",t),t},isPackageSelected:function(e){var t=this.get("selectedPackages");return _.indexOf(t,e)>-1},setInactiveBetween:function(e,t){for(var n=e+1;n<t;n++)this.set("step_"+n+"_status","inactive"),this.set("step_"+n+"_breadcrumb","n/a")}});return t}),define("models/answer_model",["backbone"],function(e){var t=e.Model.extend({defaults:{id:null,parentId:null,step:null,next:null,answer:"",breadcrumb:"",selected:!1,empty:!1,isNDISOption:!1},initialize:function(){this.typeCheckParentId()},typeCheckParentId:function(){var e=this.get("parentId");e==="null"?this.set("parentId",null):typeof e=="string"&&this.set("parentId",parseInt(e,10))}});return t}),define("collections/answer_collection",["backbone","models/answer_model"],function(e,t){var n=e.Collection.extend({model:t,initialize:function(e,t){console.log("AnswerCollection:initialize",t),this.packagesCollection=t.packages,this.on("reset",this.addPackageInfoToStep5Answers)},addPackageInfoToStep5Answers:function(){var e=this.where({step:5}),t=this.packagesCollection;_.each(e,function(e){var n=e.get("answer"),r=e.get("packageId"),i=t.findWhere({id:r});i?e.set({answer:i.get("title"),shortText:i.get("shortText"),fullText:i.get("fullText")}):(console.log("Could not find package info for model",e.get("id"),e.get("answer")," with packageId",r),e.set({shortText:"",fullText:""}))})},getAnswers:function(e){var t=e.step,n=e.parentAnswer,r=e.disabilityPath,i=this.filter(function(e){return t===5&&e.get("id")==99999?!0:t===2&&e.get("id")==99998?!0:t===4&&r&&e.get("isNDISOption")?!0:e.get("parentId")===n&&e.get("step")===t}),s=i.length;return s<6?i=this.addDummyModels(i,6-s):s>6&&(i=this.addDummyModels(i,9-s)),i},addDummyModels:function(e,n){var r;for(var i=0;i<n;i++)r=new t({empty:!0}),e.push(r);return e}});return n}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=[],i={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},s=function(e,t){var n=i,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(n.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"; __p.push('"}).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"")+"');}return __p.join('');";return r};define("tpl",[],function(){var i,o,u;return typeof window!="undefined"&&window.navigator&&window.document?o=function(e,t){var n=i.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(e){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&!!process.versions.node&&(u=require.nodeRequire("fs"),o=function(e,t){t(u.readFileSync(e,"utf8"))}),i={version:"0.24.0",strip:function(e){if(e){e=e.replace(t,"");var r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"").replace(/[\t]/g,"").replace(/[\r]/g,"")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw new Error("require.getXhr(): XMLHttpRequest not available");return t},get:o,load:function(e,t,n,o){var u=!1,a,f=e.indexOf("."),l=e.substring(0,f),c=e.substring(f+1,e.length);f=c.indexOf("!"),f!==-1&&(u=c.substring(f+1,c.length),u=u==="strip",c=c.substring(0,f)),a="nameToUrl"in t?t.nameToUrl(l,"."+c):t.toUrl(l+"."+c),i.get(a,function(t){t=s(t),o.isBuild||(t=new Function("obj",t)),t=u?i.strip(t):t,o.isBuild&&o.inlineText&&(r[e]=t),n(t)})},write:function(e,t,n){if(t in r){var s=i.jsEscape(r[t]);n("define('"+e+"!"+t+"', function() {return function(obj) { "+s.replace(/(\\')/g,"'").replace(/(\\\\)/g,"\\")+"}});\n")}}}})}(),define("tpl!templates/step_nav_view.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");var showIcon=!1,iconColor="",iconType="";__p.push('<!-- (1) --><div class="step step--1 step--',step_1_status," ",currentStep===1?"step--showing":"",'" data-step-index="1"><!--<div>(',selectedAnswers[1]||"--",')</div>--><div class="step-icon"></div>'),showIcon=!1,iconColor="",iconType="",currentStep===1&&step_1_status==="done"?(showIcon=!0,iconColor="check",iconType="orange"):step_1_status==="done"?(showIcon=!0,iconColor="check",iconType="light-blue"):step_1_status==="inactive"&&(showIcon=!0,iconColor="light-gray",iconType="cross"),__p.push(""),showIcon&&__p.push('<div class="icon icon--',iconColor," icon--",iconType,'"></div>'),__p.push('<div class="step-caption">'),step_1_status==="active"?__p.push("<em>1.</em> For whom?"):step_1_status==="done"&&__p.push("",step_1_breadcrumb,""),__p.push('</div></div><!-- (2) --><div class="step step--2 step--',step_2_status," ",currentStep===2?"step--showing":"",'" data-step-index="2"><!-- <div>(',selectedAnswers[2]||"--",')</div> --><div class="step-icon"></div>'),showIcon=!1,iconColor="",iconType="",currentStep===2&&step_2_status==="done"?(showIcon=!0,iconColor="check",iconType="orange"):step_2_status==="done"?(showIcon=!0,iconColor="check",iconType="light-blue"):step_2_status==="inactive"&&(showIcon=!0,iconColor="light-gray",iconType="cross"),__p.push(""),showIcon&&__p.push('<div class="icon icon--',iconColor," icon--",iconType,'"></div>'),__p.push('<div class="step-caption">'),step_2_status==="active"?__p.push("<em>2.</em> Because?"):step_2_status==="done"&&__p.push("",step_2_breadcrumb,""),__p.push('</div></div><!-- (3) --><div class="step step--3 step--',step_3_status," ",currentStep===3?"step--showing":"",'" data-step-index="3"><!-- <div>(',selectedAnswers[3]||"--",')</div> --><div class="step-icon"></div>'),showIcon=!1,iconColor="",iconType="",currentStep===3&&step_3_status==="done"?(showIcon=!0,iconColor="check",iconType="orange"):step_3_status==="done"?(showIcon=!0,iconColor="check",iconType="light-blue"):step_3_status==="inactive"&&(showIcon=!0,iconColor="light-gray",iconType="cross"),__p.push(""),showIcon&&__p.push('<div class="icon icon--',iconColor," icon--",iconType,'"></div>'),__p.push('<div class="step-caption">'),step_3_status==="active"?__p.push("<em>3.</em> What?"):(step_3_status==="done"||step_3_status==="inactive")&&__p.push("",step_3_breadcrumb,""),__p.push('</div></div><!-- (4) --><div class="step step--4 step--',step_4_status," ",currentStep===4?"step--showing":"",'" data-step-index="4"><!-- <div>(',selectedAnswers[4]||"--",')</div> --><div class="step-icon"></div>'),showIcon=!1,iconColor="",iconType="",currentStep===4&&step_4_status==="done"?(showIcon=!0,iconColor="check",iconType="orange"):step_4_status==="done"?(showIcon=!0,iconColor="check",iconType="light-blue"):step_4_status==="inactive"&&(showIcon=!0,iconColor="light-gray",iconType="cross"),__p.push(""),showIcon&&__p.push('<div class="icon icon--',iconColor," icon--",iconType,'"></div>'),__p.push('<div class="step-caption">'),step_4_status==="active"?__p.push("<em>4.</em> Why?"):(step_4_status==="done"||step_4_status==="inactive")&&__p.push("",step_4_breadcrumb,""),__p.push('</div></div><!-- (5) --><div class="step step--5 step--',step_5_status," ",currentStep===5?"step--showing":"",'" data-step-index="5"><!-- <div>(',selectedPackages.join(",")||"--",')</div> --><div class="step-icon"></div>'),showIcon=!1,iconColor="",iconType="",currentStep===5&&step_5_status==="done"?(showIcon=!0,iconColor="check",iconType="orange"):step_5_status==="done"?(showIcon=!0,iconColor="check",iconType="light-blue"):step_5_status==="inactive"&&(showIcon=!0,iconColor="light-gray",iconType="cross"),__p.push(""),showIcon&&__p.push('<div class="icon icon--',iconColor," icon--",iconType,'"></div>'),__p.push('<div class="step-caption">'),step_5_status==="active"?__p.push("<em>5.</em> Your options"):step_5_status==="done"&&__p.push("",step_5_breadcrumb,""),__p.push('</div></div><!-- (6) --><div class="step step--6 step--',step_6_status," ",currentStep===6?"step--showing":"",'" data-step-index="6"><!-- <div>&nbsp;</div> --><div class="step-icon"></div>'),showIcon=!1,iconColor="",iconType="",currentStep===6&&step_6_status==="done"?(showIcon=!0,iconColor="check",iconType="orange"):step_6_status==="done"?(showIcon=!0,iconColor="check",iconType="light-blue"):step_6_status==="inactive"&&(showIcon=!0,iconColor="light-gray",iconType="cross"),__p.push(""),showIcon&&__p.push('<div class="icon icon--',iconColor," icon--",iconType,'"></div>'),__p.push('<div class="step-caption">'),step_6_status==="active"?__p.push("<em>6.</em> Let's talk"):step_6_status==="done"&&__p.push("",step_6_breadcrumb,""),__p.push("</div></div>")}return __p.join("")}}),define("views/step_nav_view",["marionette","tpl!templates/step_nav_view.tpl"],function(e,t){var n=e.ItemView.extend({template:t,className:"view-wrapper",ui:{doneSteps:".step--done",activeStep:".step--active"},events:{"click @ui.doneSteps":"goToStep","click @ui.activeStep":"goToStep"},onRender:function(){var e=this;$(window).width()<481&&setTimeout(function(){},400),setTimeout(function(){$(".wizard-navigation").addClass("show")},16)},initialize:function(e){this.app=e.app,this.listenTo(this.model,"change",this.render)},goToStep:function(e){var t=$(e.currentTarget),n=t.data("step-index");if(t.hasClass("step--showing"))return;if(n===6){var r=this.app.appModel.get("selectedPackages");if(r.length===0){this.app.vent.trigger("alert:no:packages");return}}console.log("goToStep",n),this.app.vent.trigger("show:step",n)},makeSticky:function(){if(typeof window.scrollY=="undefined"&&typeof window.pageYOffset=="undefined")return;var e=$(".wizard-header"),t=e.offset().top,n=this;console.log("triggerPoint",t),$(window).on("scroll",function(){var n=typeof window.pageYOffset=="undefined"?window.scrollY:window.pageYOffset;window.scrollY>t?(e.addClass("fixed"),$(".wizard-wrap").css({paddingTop:e.height()+"px"})):(e.removeClass("fixed"),$(".wizard-wrap").css({paddingTop:0}))})}});return n}),define("data/data-answers",[],function(){var e=[{id:88881,step:4,next:6,parentId:"1000000",answer:"I would like assistance with NDIS planning",shortText:"lifeAssist can guide you and your family through a pre-planning process so you will be ready to meet with an NDIS planner.",isNDISOption:!0,breadcrumb:"NDIS"},{id:88882,step:4,next:6,parentId:"1000000",answer:"I have an NDIS plan",shortText:"As a registered NDIS provider with experience in achieving outcomes, lifeAssist can provide a range of services tailored to your needs.",isNDISOption:!0,breadcrumb:"NDIS"},{id:88883,step:4,next:6,parentId:"1000000",answer:"I would like an NDIS plan",shortText:"lifeAssist can help you figure out if you are eligible for NDIS funding and how to apply for it.",isNDISOption:!0,breadcrumb:"NDIS"},{id:88884,step:5,next:6,parentId:"1000000",answer:"NDIS",packageId:999,breadcrumb:"Options"},{id:1e4,step:1,next:2,parentId:"null",answer:"I'm looking for information for myself",breadcrumb:"Myself"},{id:11e3,step:2,next:3,parentId:"10000",answer:"I am aged 65+",breadcrumb:"Aged 65+"},{id:12e3,step:2,next:3,parentId:"10000",answer:"I am a person who has been diagnosed with a disability",breadcrumb:"Disability"},{id:13e3,step:2,next:5,parentId:"10000",answer:"I have recently been discharged from hospital or am a frequent hospital patient",breadcrumb:"Patient"},{id:14e3,step:2,next:3,parentId:"10000",answer:"I am a carer of a person aged 65+",breadcrumb:"Aged 65+"},{id:15e3,step:2,next:3,parentId:"10000",answer:"I am a carer of a person with a disability or mental illness",breadcrumb:"Disability"},{id:16e3,step:2,next:5,parentId:"10000",answer:"I am aged 50+ and live in public or community housing",breadcrumb:"Public housing"},{id:11100,step:3,next:5,parentId:"11000",answer:"I am interested in short term assistance in my own home",breadcrumb:"Short Term"},{id:11200,step:3,next:5,parentId:"11000",answer:"I am interested in medium to long term assistance in my own home",breadcrumb:"Longer Term"},{id:11300,step:3,next:5,parentId:"11000",answer:"I am interested in transferring my Home Care Package to lifeAssist",breadcrumb:"Home Care"},{id:11101,step:5,next:6,parentId:"11100",answer:"Quick Response Service",packageId:16,packageId:16,breadcrumb:"Options"},{id:11102,step:5,next:6,parentId:"11100",answer:"HARP",packageId:7,breadcrumb:"Options"},{id:11103,step:5,next:6,parentId:"11100",answer:"Housing for the Aged",packageId:10,breadcrumb:"Options"},{id:11104,step:5,next:6,parentId:"11100",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:11201,step:5,next:6,parentId:"11200",answer:"Home Care Packages",packageId:8,breadcrumb:"Options"},{id:11202,step:5,next:6,parentId:"11200",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:11203,step:5,next:6,parentId:"11200",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:11204,step:5,next:6,parentId:"11200",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12100,step:3,next:4,parentId:"12000",answer:"My primary disability is physical",breadcrumb:"Physical "},{id:12200,step:3,next:4,parentId:"12000",answer:"My primary disability is neurological",breadcrumb:"Neurological"},{id:12300,step:3,next:4,parentId:"12000",answer:"My primary disability is intellectual",breadcrumb:"Intellectual"},{id:12110,step:4,next:5,parentId:"12100",answer:"I'm interested in Information and resource options",breadcrumb:"Myself"},{id:12120,step:4,next:5,parentId:"12100",answer:"I'm interested in assistance options (short or long term)",breadcrumb:"Myself"},{id:12130,step:4,next:5,parentId:"12100",answer:"I'm interested in exploring specific funding options",breadcrumb:"Myself"},{id:12210,step:4,next:5,parentId:"12200",answer:"I'm interested in information and resource options",breadcrumb:"Myself"},{id:12220,step:4,next:5,parentId:"12200",answer:"I'm interested in assistance options (short or long term)",breadcrumb:"Myself"},{id:12230,step:4,next:5,parentId:"12200",answer:"I'm interested in exploring specific funding options",breadcrumb:"Myself"},{id:12310,step:4,next:5,parentId:"12300",answer:"I'm interested in information and resource options",breadcrumb:"Myself"},{id:12320,step:4,next:5,parentId:"12300",answer:"I'm interested in assistance options (short or long term)",breadcrumb:"Myself"},{id:12330,step:4,next:5,parentId:"12300",answer:"I'm interested in exploring specific funding options",breadcrumb:"Myself"},{id:12111,step:5,next:6,parentId:"12110",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:12112,step:5,next:6,parentId:"12110",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:12113,step:5,next:6,parentId:"12110",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12121,step:5,next:6,parentId:"12120",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:12122,step:5,next:6,parentId:"12120",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:12123,step:5,next:6,parentId:"12120",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12124,step:5,next:6,parentId:"12120",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:12131,step:5,next:6,parentId:"12130",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:12211,step:5,next:6,parentId:"12210",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:12212,step:5,next:6,parentId:"12210",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:12213,step:5,next:6,parentId:"12210",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12221,step:5,next:6,parentId:"12220",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:12222,step:5,next:6,parentId:"12220",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:12223,step:5,next:6,parentId:"12220",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12224,step:5,next:6,parentId:"12220",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:12231,step:5,next:6,parentId:"12230",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:12311,step:5,next:6,parentId:"12310",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:12312,step:5,next:6,parentId:"12310",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:12313,step:5,next:6,parentId:"12310",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12321,step:5,next:6,parentId:"12320",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:12322,step:5,next:6,parentId:"12320",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:12323,step:5,next:6,parentId:"12320",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:12324,step:5,next:6,parentId:"12320",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:12331,step:5,next:6,parentId:"12330",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:13001,step:5,next:6,parentId:"13000",answer:"Quick Response Service",packageId:16,breadcrumb:"Options"},{id:13003,step:5,next:6,parentId:"13000",answer:"HARP",packageId:7,breadcrumb:"Options"},{id:13004,step:5,next:6,parentId:"13000",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:14100,step:3,next:5,parentId:"14000",answer:"I am interested in respite care options",breadcrumb:"Respite"},{id:14200,step:3,next:5,parentId:"14000",answer:"I am interested In future planning options",breadcrumb:"Future Planning"},{id:14300,step:3,next:4,parentId:"14000",answer:"I am a Young Carer",breadcrumb:"Young Carer"},{id:14102,step:5,next:6,parentId:"14100",answer:"In Home Respite",packageId:11,breadcrumb:"Options"},{id:14103,step:5,next:6,parentId:"14100",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:14104,step:5,next:6,parentId:"14100",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:14201,step:5,next:6,parentId:"14200",answer:"Short Term assistance in my own home",packageId:20,breadcrumb:"Options"},{id:14202,step:5,next:6,parentId:"14200",answer:"Medium or Long Term assitance in my own home",packageId:13,breadcrumb:"Options"},{id:14203,step:5,next:6,parentId:"14200",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:14310,step:4,next:5,parentId:"14300",answer:"I am a Young Carer of someone aged 65+ who is frail aged",breadcrumb:"Frail Aged"},{id:14320,step:4,next:5,parentId:"14300",answer:"I am a Young Carer of someone aged 65+ with a diagnosed Mental Illness",breadcrumb:"Mental Illness"},{id:14330,step:4,next:5,parentId:"14300",answer:"I am a Young Carer of someone aged 65+ with Drug or other substance abuse",breadcrumb:"Drug Abuse"},{id:14340,step:4,next:5,parentId:"14300",answer:"I am a Young Carer of someone aged 65+ who has a chronic condition",breadcrumb:"Chronic Condition"},{id:14350,step:4,next:5,parentId:"14300",answer:"I am a Young Carer of someone aged 65+ who has a disability",breadcrumb:"Disability"},{id:14311,step:5,next:6,parentId:"14310",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:14312,step:5,next:6,parentId:"14310",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:14313,step:5,next:6,parentId:"14310",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:14321,step:5,next:6,parentId:"14320",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:14322,step:5,next:6,parentId:"14320",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:14323,step:5,next:6,parentId:"14320",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:14331,step:5,next:6,parentId:"14330",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:14332,step:5,next:6,parentId:"14330",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:14333,step:5,next:6,parentId:"14330",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:14341,step:5,next:6,parentId:"14340",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:14342,step:5,next:6,parentId:"14340",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:14343,step:5,next:6,parentId:"14340",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:14351,step:5,next:6,parentId:"14350",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:14352,step:5,next:6,parentId:"14350",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:14353,step:5,next:6,parentId:"14350",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:15100,step:3,next:4,parentId:"15000",answer:"I am interested in respite care options",breadcrumb:"Respite"},{id:15200,step:3,next:4,parentId:"15000",answer:"I am interested In future planning options",breadcrumb:"Future Planning"},{id:15300,step:3,next:4,parentId:"15000",answer:"I am a Young Carer",breadcrumb:"Young Carer"},{id:15110,step:4,next:5,parentId:"15100",answer:"I care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:15120,step:4,next:5,parentId:"15100",answer:"I care for someone with a severe or profound disability",breadcrumb:"Profound Disability"},{id:15130,step:4,next:5,parentId:"15100",answer:"I care for someone with some other disability not listed on this screen",breadcrumb:"Other Disability"},{id:15210,step:4,next:5,parentId:"15200",answer:"I care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:15220,step:4,next:5,parentId:"15200",answer:"I care for someone with a severe or profound disability",breadcrumb:"Profound Disability"},{id:15230,step:4,next:5,parentId:"15200",answer:"I care for someone with some other disability not listed on this screen",breadcrumb:"Other Disability"},{id:15310,step:4,next:5,parentId:"15300",answer:"I care for someone with a diagnosed mental illness",breadcrumb:"Frail Aged"},{id:15320,step:4,next:5,parentId:"15300",answer:"I care for someone with drug or other substance abuse",breadcrumb:"Mental illness"},{id:15330,step:4,next:5,parentId:"15300",answer:"I care for someone who has a chorinic condition",breadcrumb:"Drug Abuse"},{id:15340,step:4,next:5,parentId:"15300",answer:"I care for someone who has a disability",breadcrumb:"Disability"},{id:15111,step:5,next:6,parentId:"15110",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15112,step:5,next:6,parentId:"15110",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:15113,step:5,next:6,parentId:"15110",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:15115,step:5,next:6,parentId:"15110",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:15121,step:5,next:6,parentId:"15120",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15122,step:5,next:6,parentId:"15120",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:15123,step:5,next:6,parentId:"15120",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:15125,step:5,next:6,parentId:"15120",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:15131,step:5,next:6,parentId:"15130",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15132,step:5,next:6,parentId:"15130",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:15133,step:5,next:6,parentId:"15130",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:15135,step:5,next:6,parentId:"15130",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:15211,step:5,next:6,parentId:"15210",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15212,step:5,next:6,parentId:"15210",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:15213,step:5,next:6,parentId:"15210",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:15215,step:5,next:6,parentId:"15210",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:15221,step:5,next:6,parentId:"15220",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15222,step:5,next:6,parentId:"15220",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:15223,step:5,next:6,parentId:"15220",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:15225,step:5,next:6,parentId:"15220",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:15231,step:5,next:6,parentId:"15230",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15232,step:5,next:6,parentId:"15230",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:15233,step:5,next:6,parentId:"15230",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:15235,step:5,next:6,parentId:"15230",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:15311,step:5,next:6,parentId:"15310",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15312,step:5,next:6,parentId:"15310",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:15313,step:5,next:6,parentId:"15310",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:15314,step:5,next:6,parentId:"15310",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:15321,step:5,next:6,parentId:"15320",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15322,step:5,next:6,parentId:"15320",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:15323,step:5,next:6,parentId:"15320",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:15324,step:5,next:6,parentId:"15320",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:15331,step:5,next:6,parentId:"15330",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15332,step:5,next:6,parentId:"15330",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:15333,step:5,next:6,parentId:"15330",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:15334,step:5,next:6,parentId:"15330",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:15341,step:5,next:6,parentId:"15340",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:15342,step:5,next:6,parentId:"15340",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:15343,step:5,next:6,parentId:"15340",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:15344,step:5,next:6,parentId:"15340",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:16001,step:5,next:6,parentId:"16000",answer:"Housing for the Aged",packageId:10,breadcrumb:"Options"},{id:16002,step:5,next:6,parentId:"16000",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:2e4,step:1,next:2,parentId:"null",answer:"I'm looking for information for a friend or family member",breadcrumb:"Friend or Family"},{id:21e3,step:2,next:3,parentId:"20000",answer:"My friend or family member is aged 65+",breadcrumb:"Aged 65+"},{id:22e3,step:2,next:3,parentId:"20000",answer:"My friend or family member is a person who has been diagnosed with a disability",breadcrumb:"Disability"},{id:23e3,step:2,next:5,parentId:"20000",answer:"My friend or family member has recently been discharged from hospital or is a frequent hospital patient",breadcrumb:"Patient"},{id:24e3,step:2,next:3,parentId:"20000",answer:"My friend or family member is a carer of a person aged 65+",breadcrumb:"Aged 65+"},{id:25e3,step:2,next:3,parentId:"20000",answer:"My friend or family member is a carer of a person with a disability or mental illness",breadcrumb:"Disability"},{id:26e3,step:2,next:5,parentId:"20000",answer:"My friend or family member is aged 50+ and lives in public or community housing",breadcrumb:"Public Housing"},{id:21100,step:3,next:5,parentId:"21000",answer:"We are interested in short term assistance in their own home",breadcrumb:"Short Term"},{id:21200,step:3,next:5,parentId:"21000",answer:"We are interested in medium to long term assistance in their own home",breadcrumb:"Longer Term"},{id:21300,step:3,next:5,parentId:"21000",answer:"My friend or family member is interested in transferring their Home Care Package to lifeAssist",breadcrumb:"Home Care"},{id:21101,step:5,next:6,parentId:"21100",answer:"Quick Response Service",packageId:16,breadcrumb:"Options"},{id:21102,step:5,next:6,parentId:"21100",answer:"HARP",packageId:7,packageId:7,breadcrumb:"Options"},{id:21103,step:5,next:6,parentId:"21100",answer:"Housing for the Aged",packageId:10,breadcrumb:"Options"},{id:21104,step:5,next:6,parentId:"21100",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:21201,step:5,next:6,parentId:"21200",answer:"Home Care Packages",packageId:8,packageId:8,breadcrumb:"Options"},{id:21202,step:5,next:6,parentId:"21200",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:21203,step:5,next:6,parentId:"21200",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:21204,step:5,next:6,parentId:"21200",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22100,step:3,next:4,parentId:"22000",answer:"Their primary disability is physical",breadcrumb:"Physical "},{id:22200,step:3,next:4,parentId:"22000",answer:"Their primary disabiltiy is neurological",breadcrumb:"Neurological"},{id:22300,step:3,next:4,parentId:"22000",answer:"Their primary disabiltiy is intellectural",breadcrumb:"Intellectual"},{id:22110,step:4,next:5,parentId:"22100",answer:"We are interested in information and resource options",breadcrumb:"Information"},{id:22120,step:4,next:5,parentId:"22100",answer:"We are interested in assistance options (short or long term)",breadcrumb:"Assistance Options"},{id:22130,step:4,next:5,parentId:"22100",answer:"We are interested in exploring specific funding options",breadcrumb:"Funding Options"},{id:22210,step:4,next:5,parentId:"22200",answer:"We are interested in information and resource options",breadcrumb:"Information"},{id:22220,step:4,next:5,parentId:"22200",answer:"We are interested in assistance options (short or long term)",breadcrumb:"Assistance Options"},{id:22230,step:4,next:5,parentId:"22200",answer:"We are interested in exploring specific funding options",breadcrumb:"Funding Options"},{id:22310,step:4,next:5,parentId:"22300",answer:"We are interested in information and resource options",breadcrumb:"Information"},{id:22320,step:4,next:5,parentId:"22300",answer:"We are interested in assistance options (short or long term)",breadcrumb:"Assistance Options"},{id:22330,step:4,next:5,parentId:"22300",answer:"We are interested in exploring specific funding options",breadcrumb:"Funding Options"},{id:22111,step:5,next:6,parentId:"22110",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:22112,step:5,next:6,parentId:"22110",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:22113,step:5,next:6,parentId:"22110",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22121,step:5,next:6,parentId:"22120",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:22122,step:5,next:6,parentId:"22120",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:22123,step:5,next:6,parentId:"22120",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22124,step:5,next:6,parentId:"22120",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:22131,step:5,next:6,parentId:"22130",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:22211,step:5,next:6,parentId:"22210",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:22212,step:5,next:6,parentId:"22210",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:22213,step:5,next:6,parentId:"22210",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22221,step:5,next:6,parentId:"22220",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:22222,step:5,next:6,parentId:"22220",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:22223,step:5,next:6,parentId:"22220",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22231,step:5,next:6,parentId:"22230",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:22311,step:5,next:6,parentId:"22310",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:22312,step:5,next:6,parentId:"22310",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:22313,step:5,next:6,parentId:"22310",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22321,step:5,next:6,parentId:"22320",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:22322,step:5,next:6,parentId:"22320",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:22323,step:5,next:6,parentId:"22320",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:22324,step:5,next:6,parentId:"22320",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:22331,step:5,next:6,parentId:"22330",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:23001,step:5,next:6,parentId:"23000",answer:"Quick Response Service",packageId:16,packageId:16,breadcrumb:"Options"},{id:23003,step:5,next:6,parentId:"23000",answer:"HARP",packageId:7,breadcrumb:"Options"},{id:23004,step:5,next:6,parentId:"23000",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:24100,step:3,next:5,parentId:"24000",answer:"We are interested in respite care options",breadcrumb:"Respite"},{id:24200,step:3,next:5,parentId:"24000",answer:"We are interested In future planning options",breadcrumb:"Future Planning"},{id:24300,step:3,next:4,parentId:"24000",answer:"They are a Young Carer",breadcrumb:"Young Carer"},{id:24102,step:5,next:6,parentId:"24100",answer:"In Home Respite",packageId:11,breadcrumb:"Options"},{id:24103,step:5,next:6,parentId:"24100",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:24104,step:5,next:6,parentId:"24100",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:24201,step:5,next:6,parentId:"24200",answer:"Short Term assistance in my own home",packageId:20,breadcrumb:"Options"},{id:24202,step:5,next:6,parentId:"24200",answer:"Medium or Long Term assitance in my own home",packageId:13,breadcrumb:"Options"},{id:2403,step:5,next:6,parentId:"24200",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:24310,step:4,next:5,parentId:"24300",answer:"They are a Young Carer of someone aged 65+",breadcrumb:"Young Carer"},{id:24320,step:4,next:5,parentId:"24300",answer:"They are a Young Carer of someone aged 65+ with a diagnosed Mental Illness",breadcrumb:"Young Carer"},{id:24330,step:4,next:5,parentId:"24300",answer:"They are a Young Carer of someone aged 65+ with Drug or other substance abuse",breadcrumb:"Young Carer"},{id:24340,step:4,next:5,parentId:"24300",answer:"They are a Young Carer of someone aged 65+ who has a chorinic condition",breadcrumb:"Young Carer"},{id:24350,step:4,next:5,parentId:"24300",answer:"They are a Young Carer of someone aged 65+ who has a disability",breadcrumb:"Young Carer"},{id:24311,step:5,next:6,parentId:"24310",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:24312,step:5,next:6,parentId:"24310",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:24313,step:5,next:6,parentId:"24310",answer:"Getting Connected with other Young Carers",packageId:6,packageId:6,breadcrumb:"Options"},{id:24314,step:5,next:6,parentId:"24310",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:24321,step:5,next:6,parentId:"24320",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:24322,step:5,next:6,parentId:"24320",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:24323,step:5,next:6,parentId:"24320",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:24324,step:5,next:6,parentId:"24320",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:24331,step:5,next:6,parentId:"24330",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:24332,step:5,next:6,parentId:"24330",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:24333,step:5,next:6,parentId:"24330",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:24334,step:5,next:6,parentId:"24330",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:24341,step:5,next:6,parentId:"24340",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:24342,step:5,next:6,parentId:"24340",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:24343,step:5,next:6,parentId:"24340",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:24344,step:5,next:6,parentId:"24340",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:24351,step:5,next:6,parentId:"24350",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:24352,step:5,next:6,parentId:"24350",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:24353,step:5,next:6,parentId:"24350",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:24354,step:5,next:6,parentId:"24350",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:25100,step:3,next:4,parentId:"25000",answer:"They are interested in Respite Care options",breadcrumb:"Respite Care"},{id:25200,step:3,next:4,parentId:"25000",answer:"They are interested In Future Planning Options",breadcrumb:"Future Planning"},{id:25300,step:3,next:4,parentId:"25000",answer:"They are a Young Carer",breadcrumb:"Young Carer"},{id:25110,step:4,next:5,parentId:"25100",answer:"They care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:25120,step:4,next:5,parentId:"25100",answer:"They care for someone with a severe or profound disability",breadcrumb:"Profound Disability"},{id:25130,step:4,next:5,parentId:"25100",answer:"They care for someone with some other disability not listed on this screen",breadcrumb:"Other Disability"},{id:25210,step:4,next:5,parentId:"25200",answer:"They care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:25220,step:4,next:5,parentId:"25200",answer:"They care for someone with a severe or profound disability",breadcrumb:"Profound Disability"},{id:25230,step:4,next:5,parentId:"25200",answer:"They care for someone with some other disability not listed on this screen",breadcrumb:"Other Disability"},{id:25310,step:4,next:5,parentId:"25300",answer:"They care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:25320,step:4,next:5,parentId:"25300",answer:"They care for someone with drug or other substance abuse",breadcrumb:"Drug Abuse"},{id:25330,step:4,next:5,parentId:"25300",answer:"They care for someone who has a chorinic condition",breadcrumb:"Chronic Condition"},{id:25340,step:4,next:5,parentId:"25300",answer:"They care for someone who has a disability",breadcrumb:"Disability "},{id:25111,step:5,next:6,parentId:"25110",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25112,step:5,next:6,parentId:"25110",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:25113,step:5,next:6,parentId:"25110",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:25115,step:5,next:6,parentId:"25110",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:25121,step:5,next:6,parentId:"25120",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25122,step:5,next:6,parentId:"25120",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:25123,step:5,next:6,parentId:"25120",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:25125,step:5,next:6,parentId:"25120",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:25131,step:5,next:6,parentId:"25130",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25132,step:5,next:6,parentId:"25130",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:25133,step:5,next:6,parentId:"25130",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:25135,step:5,next:6,parentId:"25130",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:25211,step:5,next:6,parentId:"25210",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25212,step:5,next:6,parentId:"25210",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:25213,step:5,next:6,parentId:"25210",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:25215,step:5,next:6,parentId:"25210",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:25221,step:5,next:6,parentId:"25220",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25222,step:5,next:6,parentId:"25220",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:25223,step:5,next:6,parentId:"25220",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:25225,step:5,next:6,parentId:"25220",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:25231,step:5,next:6,parentId:"25230",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25232,step:5,next:6,parentId:"25230",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:25233,step:5,next:6,parentId:"25230",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:25235,step:5,next:6,parentId:"25230",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:25311,step:5,next:6,parentId:"25310",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25312,step:5,next:6,parentId:"25310",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:25313,step:5,next:6,parentId:"25310",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:25314,step:5,next:6,parentId:"25310",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:25321,step:5,next:6,parentId:"25320",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25322,step:5,next:6,parentId:"25320",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:25323,step:5,next:6,parentId:"25320",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:25324,step:5,next:6,parentId:"25320",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:25331,step:5,next:6,parentId:"25330",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25332,step:5,next:6,parentId:"25330",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:25333,step:5,next:6,parentId:"25330",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:25334,step:5,next:6,parentId:"25330",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:25341,step:5,next:6,parentId:"25340",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:25342,step:5,next:6,parentId:"25340",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:25343,step:5,next:6,parentId:"25340",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:25344,step:5,next:6,parentId:"25340",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:26001,step:5,next:6,parentId:"26000",answer:"Housing for the Aged",packageId:10,breadcrumb:"Options"},{id:26002,step:5,next:6,parentId:"26000",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:3e4,step:1,next:2,parentId:"null",answer:"I'm a professional interested in referring a client, patient or employee",breadcrumb:"Professional"},{id:31e3,step:2,next:3,parentId:"30000",answer:"My patient, client or employee is aged 65+",breadcrumb:"Aged 65+"},{id:32e3,step:2,next:3,parentId:"30000",answer:"My patient, client or employee is a person who has been diagnosed with a disability",breadcrumb:"Disability"},{id:33e3,step:2,next:5,parentId:"30000",answer:"My patient, client or employee has recently been discharged from hospital or is a frequent hospital patient",breadcrumb:"Patient"},{id:34e3,step:2,next:3,parentId:"30000",answer:"My patient, client or employee is a carer of a person aged 65+",breadcrumb:"Aged 65+"},{id:35e3,step:2,next:3,parentId:"30000",answer:"My patient, client or employee is a carer of a person with a disability or mental illness",breadcrumb:"Disability"},{id:36e3,step:2,next:5,parentId:"30000",answer:"My patient, client or employee is aged 50+ and lives in public or community housing",breadcrumb:"Public Housing"},{id:31100,step:3,next:5,parentId:"31000",answer:"They are interested in short term assistance in their own home",breadcrumb:"Short Term"},{id:31200,step:3,next:5,parentId:"31000",answer:"They are interested in medium to long term assistance in their own home",breadcrumb:"Longer Term"},{id:31101,step:5,next:6,parentId:"31100",answer:"Quick Response Service",packageId:16,packageId:16,breadcrumb:"Options"},{id:31102,step:5,next:6,parentId:"31100",answer:"HARP",packageId:7,breadcrumb:"Options"},{id:31103,step:5,next:6,parentId:"31100",answer:"Housing for the Aged",packageId:10,breadcrumb:"Options"},{id:31104,step:5,next:6,parentId:"31100",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:31201,step:5,next:6,parentId:"31200",answer:"Home Care Packages",packageId:8,breadcrumb:"Options"},{id:31202,step:5,next:6,parentId:"31200",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:31203,step:5,next:6,parentId:"31200",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:31204,step:5,next:6,parentId:"31200",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32100,step:3,next:4,parentId:"32000",answer:"Their primary disability is physical",breadcrumb:"Physical "},{id:32200,step:3,next:4,parentId:"32000",answer:"Their primary disabiltiy is neurological",breadcrumb:"Neurological"},{id:32300,step:3,next:4,parentId:"32000",answer:"Their primary disabiltiy is intellectural",breadcrumb:"Intellectual"},{id:32110,step:4,next:5,parentId:"32100",answer:"They are interested in information and resource options",breadcrumb:"Resource Options"},{id:32120,step:4,next:5,parentId:"32100",answer:"They are interested in assistance options (short or long term)",breadcrumb:"Assistance Options"},{id:32130,step:4,next:5,parentId:"32100",answer:"They are interested in exploring specific funding options",breadcrumb:"Funding Options"},{id:32210,step:4,next:5,parentId:"32200",answer:"They are interested in information and resource options",breadcrumb:"Resource Options"},{id:32220,step:4,next:5,parentId:"32200",answer:"They are interested in assistance options (short or long term)",breadcrumb:"Assistance Options"},{id:32230,step:4,next:5,parentId:"32200",answer:"They are interested in exploring specific funding options",breadcrumb:"Funding Options"},{id:32310,step:4,next:5,parentId:"32300",answer:"They are interested in information and resource options",breadcrumb:"Resource Options"},{id:32320,step:4,next:5,parentId:"32300",answer:"They are interested in assistance options (short or long term)",breadcrumb:"Assistance Options"},{id:32330,step:4,next:5,parentId:"32300",answer:"They are interested in exploring specific funding options",breadcrumb:"Funding Options"},{id:32111,step:5,next:6,parentId:"32110",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:32112,step:5,next:6,parentId:"32110",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:32113,step:5,next:6,parentId:"32110",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32121,step:5,next:6,parentId:"32120",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:32122,step:5,next:6,parentId:"32120",answer:"Disability Support Packages",packageId:5,packageId:5,breadcrumb:"Options"},{id:32123,step:5,next:6,parentId:"32120",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32124,step:5,next:6,parentId:"32120",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:32131,step:5,next:6,parentId:"32130",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:32211,step:5,next:6,parentId:"32210",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:32212,step:5,next:6,parentId:"32210",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:32213,step:5,next:6,parentId:"32210",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32221,step:5,next:6,parentId:"32220",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:32222,step:5,next:6,parentId:"32220",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:32223,step:5,next:6,parentId:"32220",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32224,step:5,next:6,parentId:"32220",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:32231,step:5,next:6,parentId:"32230",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:32311,step:5,next:6,parentId:"32310",answer:"Short term Planning and Assessment",packageId:22,breadcrumb:"Options"},{id:32312,step:5,next:6,parentId:"32310",answer:"Referral Services",packageId:17,breadcrumb:"Options"},{id:32313,step:5,next:6,parentId:"32310",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32321,step:5,next:6,parentId:"32320",answer:"Linkages Packages",packageId:12,breadcrumb:"Options"},{id:32322,step:5,next:6,parentId:"32320",answer:"Disability Support Packages",packageId:5,breadcrumb:"Options"},{id:32323,step:5,next:6,parentId:"32320",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:32324,step:5,next:6,parentId:"32320",answer:"Homeshare",packageId:9,breadcrumb:"Options"},{id:32331,step:5,next:6,parentId:"32330",answer:"Equipment purchase funding",packageId:4,breadcrumb:"Options"},{id:33001,step:5,next:6,parentId:"33000",answer:"Quick Response Service",packageId:16,breadcrumb:"Options"},{id:33003,step:5,next:6,parentId:"33000",answer:"HARP",packageId:7,breadcrumb:"Options"},{id:33004,step:5,next:6,parentId:"33000",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:34100,step:3,next:5,parentId:"34000",answer:"They are interested in respite care options",breadcrumb:"Respite"},{id:34200,step:3,next:5,parentId:"34000",answer:"They are interested In future planning options",breadcrumb:"Future Planning"},{id:34300,step:3,next:4,parentId:"34000",answer:"They are a Young Carer",breadcrumb:"Young Carer"},{id:34102,step:5,next:6,parentId:"34100",answer:"In Home Respite",packageId:11,breadcrumb:"Options"},{id:34103,step:5,next:6,parentId:"34100",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:34104,step:5,next:6,parentId:"34100",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:34201,step:5,next:6,parentId:"34200",answer:"Short Term assistance in my own home",packageId:20,breadcrumb:"Options"},{id:34202,step:5,next:6,parentId:"34200",answer:"Medium or Long Term assitance in my own home",packageId:13,breadcrumb:"Options"},{id:34203,step:5,next:6,parentId:"34200",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:34310,step:4,next:5,parentId:"34300",answer:"They are a Young Carer of someone aged 65+",breadcrumb:"Aged 65+"},{id:34320,step:4,next:5,parentId:"34300",answer:"They are a Young Carer of someone aged 65+ with a diagnosed Mental Illness",breadcrumb:"Mental illness"},{id:34330,step:4,next:5,parentId:"34300",answer:"They are a Young Carer of someone aged 65+ with Drug or other substance abuse",breadcrumb:"Drug Abuse"},{id:34340,step:4,next:5,parentId:"34300",answer:"They are a Young Carer of someone aged 65+ who has a chorinic condition",breadcrumb:"Chronic Condition"},{id:34350,step:4,next:5,parentId:"34300",answer:"They are a Young Carer of someone aged 65+ who has a disability",breadcrumb:"Disability"},{id:34311,step:5,next:6,parentId:"34310",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:34312,step:5,next:6,parentId:"34310",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:34313,step:5,next:6,parentId:"34310",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:34314,step:5,next:6,parentId:"34310",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:34321,step:5,next:6,parentId:"34320",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:34322,step:5,next:6,parentId:"34320",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:34323,step:5,next:6,parentId:"34320",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:34324,step:5,next:6,parentId:"34320",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:34331,step:5,next:6,parentId:"34330",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:34332,step:5,next:6,parentId:"34330",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:34333,step:5,next:6,parentId:"34330",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:34334,step:5,next:6,parentId:"34330",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:34341,step:5,next:6,parentId:"34340",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:34342,step:5,next:6,parentId:"34340",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:34343,step:5,next:6,parentId:"34340",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:34344,step:5,next:6,parentId:"34340",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:34351,step:5,next:6,parentId:"34350",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:34352,step:5,next:6,parentId:"34350",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:34353,step:5,next:6,parentId:"34350",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:34354,step:5,next:6,parentId:"34350",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:35100,step:3,next:4,parentId:"35000",answer:"They are interested in Respite Care options",breadcrumb:"Respite"},{id:35200,step:3,next:4,parentId:"35000",answer:"They are interested In Future Planning Options",breadcrumb:"Future Planning"},{id:35300,step:3,next:4,parentId:"35000",answer:"They are a Young Carer",breadcrumb:"Young Carer"},{id:35110,step:4,next:5,parentId:"35100",answer:"They care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:35120,step:4,next:5,parentId:"35100",answer:"They care for someone with a severe or profound disability",breadcrumb:"Profound Disability"},{id:35130,step:4,next:5,parentId:"35100",answer:"They care for someone with some other disability not listed on this screen",breadcrumb:"Other Disability"},{id:35210,step:4,next:5,parentId:"35200",answer:"They care for someone with a mental illness, an intellectual disability or autism",breadcrumb:"Intellectual"},{id:35220,step:4,next:5,parentId:"35200",answer:"They care for someone with a severe or profound disability",breadcrumb:"Profound Disability"},{id:35230,step:4,next:5,parentId:"35200",answer:"They care for someone with some other disability not listed on this screen",breadcrumb:"Other Disability"},{id:35310,step:4,next:5,parentId:"35300",answer:"They care for someone with a diagnosed mental illness",breadcrumb:"Mental illness"},{id:35320,step:4,next:5,parentId:"35300",answer:"They care for someone with drug or other substance abuse",breadcrumb:"Drug Abuse"},{id:35330,step:4,next:5,parentId:"35300",answer:"They care for someone who has a chorinic condition",breadcrumb:"Chronic Condition"},{id:35340,step:4,next:5,parentId:"35300",answer:"They care for someone who has a disability",breadcrumb:"Disability"},{id:35111,step:5,next:6,parentId:"35110",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35112,step:5,next:6,parentId:"35110",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:35113,step:5,next:6,parentId:"35110",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:35115,step:5,next:6,parentId:"35110",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:35121,step:5,next:6,parentId:"35120",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35122,step:5,next:6,parentId:"35120",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:35123,step:5,next:6,parentId:"35120",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:35125,step:5,next:6,parentId:"35120",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:35131,step:5,next:6,parentId:"35130",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35132,step:5,next:6,parentId:"35130",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:35133,step:5,next:6,parentId:"35130",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:35135,step:5,next:6,parentId:"35130",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:35211,step:5,next:6,parentId:"35210",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35212,step:5,next:6,parentId:"35210",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:35213,step:5,next:6,parentId:"35210",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:35215,step:5,next:6,parentId:"35210",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:35221,step:5,next:6,parentId:"35220",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35222,step:5,next:6,parentId:"35220",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:35223,step:5,next:6,parentId:"35220",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:35225,step:5,next:6,parentId:"35220",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:35231,step:5,next:6,parentId:"35230",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35232,step:5,next:6,parentId:"35230",answer:"Services and Referrals for Carers",packageId:19,breadcrumb:"Options"},{id:35233,step:5,next:6,parentId:"35230",answer:"One-on-one Carer Support",packageId:15,breadcrumb:"Options"},{id:35235,step:5,next:6,parentId:"35230",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:35311,step:5,next:6,parentId:"35310",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35312,step:5,next:6,parentId:"35310",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:35313,step:5,next:6,parentId:"35310",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:35314,step:5,next:6,parentId:"35310",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:35321,step:5,next:6,parentId:"35320",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35312,step:5,next:6,parentId:"35320",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:35323,step:5,next:6,parentId:"35320",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:35324,step:5,next:6,parentId:"35320",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:35331,step:5,next:6,parentId:"35330",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35332,step:5,next:6,parentId:"35330",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:35333,step:5,next:6,parentId:"35330",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:35334,step:5,next:6,parentId:"35330",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:35341,step:5,next:6,parentId:"35340",answer:"Short Term or Emergency Respite",packageId:21,breadcrumb:"Options"},{id:35342,step:5,next:6,parentId:"35340",answer:"Carer Support",packageId:2,breadcrumb:"Options"},{id:35343,step:5,next:6,parentId:"35340",answer:"Getting Connected with other Young Carers",packageId:6,breadcrumb:"Options"},{id:35344,step:5,next:6,parentId:"35340",answer:"Carer Recognition book",packageId:1,breadcrumb:"Options"},{id:36001,step:5,next:6,parentId:"36000",answer:"Housing for the Aged",packageId:10,breadcrumb:"Options"},{id:36002,step:5,next:6,parentId:"36000",answer:"myLifeAssist",packageId:14,breadcrumb:"Options"},{id:99998,step:2,next:6,parentId:"1000000",answer:"If none of these are you, select and provide details for our team to assist",breadcrumb:"Other"},{id:99999,step:5,next:6,parentId:"1000000",answer:"Other",packageId:99,breadcrumb:"Options"}];return e}),define("data/data-packages",[],function(){var e=[{id:1,title:"Carer Recognition book",shortText:"Full of entertainment and special offers to reward Carers with the opportunity to go out and enjoy themselves at discounted rates.",fullText:""},{id:2,title:"Carer Support",shortText:"Counselling and information, including one-on-one support and connections to other services",fullText:""},{id:4,title:"Equipment purchase funding",shortText:"Realising Your Dream is our charitable fund which can assist our clients with one-off grants to help realise a particular dream or goal.",fullText:"Realising Your Dream is our charitable fund which can assist our clients with one-off grants for the purchase of equipment to help realise a particular dream or goal."},{id:5,title:"Disability Support Packages",shortText:'Long term and  short term packages including "Individual Support Package" management to support a person with a disability',fullText:'Long term and  short term packages including "Individual Support Package" management to support a person with a disability; catering for people aged 0-65 years.'},{id:6,title:"Getting Connected with other Young Carers",shortText:"Social events, trips, outings and chance to get to know other young carers, share experiences and support each other.",fullText:""},{id:7,title:"HARP",shortText:"Hospital Admission Risk Program is for people with chronic diseases and complex needs aimed to reduce/eliminate avoidable hospital stays.",fullText:"Hospital Admission Risk Program is for  people with defined chronic diseases and complex needs. Integrated care services aimed to reduce/eliminate avoidable hospital stays."},{id:8,title:"Home Care Packages",shortText:"Care management packages to support older people, assessed as having low-high level care needs to remain living in their home and community.",fullText:""},{id:9,title:"Homeshare",shortText:"Matches older people or people with a disability, with homesharers to provide assistance in return for affordable accommodation",fullText:"Matches frail older people or people with a disability, with secure tenure in their home and  looking for help and companionship with people who are able to provide assistance in return for affordable accommodation"},{id:10,title:"Housing for the Aged",shortText:"Short-term care management and support for people aged 55+ living in Office of Housing accommodation, at immediate risk of being homeless. ",fullText:"Short-term episodic care management and outreach support for people living in Office of Housing accommodation and are at immediate risk of being homeless. Targets people aged 55+ with complex  needs."},{id:11,title:"In Home Respite",shortText:"Short term respite services provided in your own home",fullText:""},{id:12,title:"Linkages Packages",shortText:"Tailored packages of care and care management targeting both older people and people with a disability who have complex care needs",fullText:"A Home and Community Care (HACC) program targeting both older people and people with a disability  with complex care needs by providing tailored packages of care and care management."},{id:13,title:"Medium or Long Term assistance in my own home",shortText:"Respite and Carer support for up to 3 months at a time (medium term) or 12 months (long term)",fullText:"Respite and Carer support for up to 3 months at a time (medium term) or 12 months (long term),  to develop care plans, referrals, respite options and support for carers."},{id:14,title:"myLifeAssist",shortText:"Self-funded services, from one-off service to care planning with no waiting period or eligibility requirements.",fullText:"Self-funded:  Flexible, affordable in-home support tailored to the needs of the individual, their family and carers. Full range of services from total care co-ordination to one-off services, current and future need planning.  Immediate service with no waiting period or eligibility requirements."},{id:15,title:"One-on-one Carer Support",shortText:"Counselling and individual support for carers to help maintain their own health and wellbeing.",fullText:""},{id:16,title:"Quick Response Service",shortText:"In-home support after a 'trigger event' such as flu, fall or accident resulting in a stay in a private hospital or rehabilitation",fullText:"Quick Response Service provides in-home support following a 'trigger event' such as flu, a fall or an accident resulting in a stay in a private hospital or rehabilitation. Services can usually be provided within 48 hours of assessment, depending on eligibility."},{id:17,title:"Referral Services",shortText:"Guided referral service for anyone who wants to know about community support to remain living at home ",fullText:""},{id:18,title:"Respite Care Centre",shortText:"Direct and indirect respite services to carers of people (aged under 65) with moderate, severe or profound disabilities.",fullText:""},{id:19,title:"Services and Referrals for Carers",shortText:"Support services for carers, including CRCC (Commonwealth Respite and Carelink Centre) along with connections to local support networks.",fullText:""},{id:20,title:"Short Term assistance in my own home",shortText:"Respite and short-term Carer support, including 24 hour emergency services ",fullText:"Respite and short-term Carer support, including 24 hour emergency services for any carers covered under Commonwealth Respite and Carelink Centre, mental health, young carers and carers of people with severe and profound disability."},{id:21,title:"Short Term or Emergency Respite",shortText:"Commonwealth Respite and Carelink Centre (CRCC) is a 24 hour, 7 day a week respite service for carers and their families living in Eastern Melbourne",fullText:""},{id:22,title:"Short term Planning and Assessment",shortText:"Information and guidance for obtaining short term Assessment and Planning, connecting you with the most appropriate services for your needs",fullText:""},{id:99,title:"Other/Custom",shortText:"Should none of these options suit please make this box selection then fill in your details on the next page. One of our staff will contact you shortly to discuss in detail how we can assist you.",fullText:""},{id:999,title:"NDIS",shortText:"I'm looking for more information on NDIS services and planning."}];return e}),define("wizard",["marionette","models/wizard_model","collections/answer_collection","views/step_nav_view","data/data-answers","data/data-packages"],function(e,t,n,r,i,s){window.AnswerData=i;var o=new e.Application;return o.alert=function(e){window.alert.apply(window,e)},o.addRegions({navRegion:"#wizard-nav",answerRegion:"#wizard-answers"}),o.emailFormAction="",o.clientEmailFormAction="",o.addInitializer(function(){console.log("App initializing"),this.emailFormAction=$.trim($("#selector_form_action").html()),this.clientEmailFormAction=$.trim($("#email_confirmation_form_action").html()),this.appModel=new t,window.appModel=this.appModel,this.stepNavView=new r({app:this,model:this.appModel}),this.navRegion.show(this.stepNavView)}),o.on("start",function(){this.packageCollection=new Backbone.Collection(s),this.answerCollection=new n([],{packages:this.packageCollection}),this.answerCollection.reset(i),this.vent.trigger("show:step",1)}),o}),define("models/form_model",["backbone"],function(e){var t=e.Model.extend({defaults:{form_action:"#",title:"",first_name:"",last_name:"",home_phone:"",email:"",mobile:"",postcode:"",suburb:"",state:"",personal_interpreter:"",personal_interpreter_language:"",services_start:"",family_name:"",family_relationship:"",family_suburb:"",family_state:"",family_phone:"",family_email:"",family_method_of_contact:"",family_who_to_contact:"",family_interpreter:"",family_interpreter_language:"",family_consent:"",patient_relationship:"",patient_discharge_date:"",patient_diagnosis:"",patient_formal_supports:"",patient_formal_support_case_manager:"",patient_formal_support_contact:"",patient_formal_support_type:"",patient_informal_support:"",patient_informal_support_name:"",patient_informal_support_contact:"",patient_informal_support_type:"",patient_name:"",patient_suburb:"",patient_state:"",patient_phone:"",patient_email:"",patient_method_of_contact:"",patient_who_to_contact:"",patient_interpreter:"",patient_interpreter_language:"",patient_consent:"",method_of_contact:"",terms:"",msg_comments:"",smallprint:"",selectedAnswers:"",selectedPackages:"",targetEmail:""},initialize:function(){this.getSmallprint()},getSmallprint:function(){typeof window.smallprint!="string"&&(window.smallprint=$("#terms_source").html()||""),this.set("smallprint",window.smallprint)}});return t}),define("tpl!templates/final_step_layout.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="column-layout"><div class="max-width-wrap"><div class="column column-1"><div class="wizard-summary"><div class="gray-box"><div class="box-heading">About me</div><ol class="step_summary"><li>Information for myself</li><li>I am a person who has been diagnosed with a disability</li><li>My primary disability is physical</li><li>I\'m interested in exploring specific funding options</li></ol></div><div class="mid-heading">I\'d like to discuss:</div><div class="package-list-region"></div> <!-- .package-list --></div> <!-- .wizard-summary --></div> <!-- .column-1 --><div class="column column-2"><div class="padded-content"></div></div> <!-- .column-2 --></div></div> <!-- .column-layout -->');return __p.join("")}}),define("views/final_step_layout",["marionette","tpl!templates/final_step_layout.tpl"],function(e,t){var n=e.Layout.extend({className:"wizard-form-step",template:t,regions:{stepSummaryRegion:".step_summary",packageListRegion:".package-list-region",formRegion:".column-2 .padded-content"}});return n}),define("tpl!templates/answer.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="answer-text" data-answer-id="',id,'">',answer,"</div>"),isNDISOption&&shortText&&__p.push('<div class="answer-description">',shortText,"</div>"),__p.push('<button class="btn">SELECT</button>');return __p.join("")}}),define("tpl!templates/answer_package.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="answer-text" data-answer-id="',id,'">',answer,'</div><div class="answer-description"><p>',shortText,"</p>"),fullText&&__p.push('<p><a href="#" class="package-read-more">Read more</a></p>'),__p.push('</div><button class="btn">SELECT</button><div class="package-full-text"><div class="answer-text">',answer,"</div><p>",fullText,'</p><div class="full-text-close"><div class="icon icon--cross"></div></div></div>');return __p.join("")}}),define("views/answer_view",["marionette","wizard","tpl!templates/answer.tpl","tpl!templates/answer_package.tpl"],function(e,t,n,r){var i=e.ItemView.extend({className:function(){function s(e,t){var n=!1;return e<5?n=t===Wizard.appModel.getAnswerForStep(e):n=Wizard.appModel.isPackageSelected(t),n}var e="wizard-answer",t=this.model.get("step"),n=this.model.get("id"),r=this.model.get("empty"),i=this.model.get("isNDISOption");return t===5&&(e+=" answer--package"),i&&(e+=" answer--package answer--ndis"),s(t,n)&&(this.isSelected=!0,e+=" answer--selected"),r&&(e+=" answer--empty"),e},isSelected:!1,ui:{selectBtn:".btn",readMore:".package-read-more",fullText:".package-full-text",fullTextClose:".full-text-close"},events:{"click @ui.selectBtn":"selectAnswer","click @ui.readMore":"toggleReadMore","click @ui.fullTextClose":"toggleReadMore"},onRender:function(){this.isSelected&&this.ui.selectBtn.html('SELECTED<i class="icon icon--check"></i>')},initialize:function(){this.template=this.model.get("step")===5?r:n},selectAnswer:function(e){console.log("answer selected",this.model.get("id"),"step",this.model.get("step"));var t=this.model.get("step"),n=this.model,r=this.model.get("id");if(r===99998){window.location="http://www.lifeassist.org.au/contact";return}if(r===11300){window.location="http://www.lifeassist.org.au/transferring-a-home-care-package";return}if(r===21300){window.location="http://www.lifeassist.org.au/transferring-a-home-care-package-for-a-friend";return}t===5?this.togglePackage():this.triggerNextStep()},toggleReadMore:function(e){e.preventDefault(),this.ui.fullText.fadeToggle()},triggerNextStep:function(){this.$el.addClass("answer--selected").siblings().removeClass("answer--selected"),t.vent.trigger("answer:selected",{answer:this.model.get("id"),step:this.model.get("step"),next:this.model.get("next"),breadcrumb:this.model.get("breadcrumb"),isNDISOption:this.model.get("isNDISOption")})},togglePackage:function(){this.isSelected=!this.isSelected,this.$el.toggleClass("answer--selected",this.isSelected),this.isSelected?this.ui.selectBtn.html('SELECTED<i class="icon icon--check"></i>'):this.ui.selectBtn.html("SELECT"),t.vent.trigger("toggle:package",{id:this.model.get("id"),action:this.isSelected?"add":"remove"})}});return i}),define("tpl!templates/answer_list.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="answer-list-inner-wrap clearfix"></div>'),stepShowing===5&&__p.push('<div class="wizard-next-step"><div class="max-width-wrap"><div class="wizard-next-step-inner"><div class="proceed-hint">Select 1 or more packages and</div><button class="btn btn--orange btn--point-right">PROCEED TO NEXT STEP</button></div></div></div>'),__p.push("");return __p.join("")}}),define("views/answer_list_view",["marionette","views/answer_view","tpl!templates/answer_list.tpl"],function(e,t,n){var r=e.CompositeView.extend({className:"answer-list-wrap",template:n,itemView:t,itemViewContainer:".answer-list-inner-wrap",ui:{nextBtn:".wizard-next-step button"},events:{"click @ui.nextBtn":"showFinalStep"},onRender:function(){var e=this.$el,t=this;setTimeout(function(){e.addClass("animate-in")},16),this.currentStep===5&&setTimeout(function(){t.watchWindowHeight()},120)},onClose:function(){$(window).off("resize.answer_list")},initialize:function(e){this.app=e.app,this.currentStep=this.app.appModel.get("currentStep")},showFinalStep:function(){var e=this.app.appModel.get("selectedPackages");if(e.length===0){this.app.vent.trigger("alert:no:packages");return}this.app.vent.trigger("answer:selected",{step:5,next:6,breadcrumb:"Packages"})},_timeout:null,watchWindowHeight:function(){var e=this;this.toggleFixedNextStep(),console.log("watchWindowheight"),$(window).on("resize.answer_list",function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.toggleFixedNextStep()},200)})},$pageHeader:null,$pageContent:null,toggleFixedNextStep:function(){this.$pageHeader=this.$pageHeader||$(".page-header"),this.$pageContent=this.$pageContent||$(".page-content");var e=this.$pageHeader.height(),t=this.$pageContent.height(),n=$(window).height(),r=!1;console.log("toggleFixedNextStep",e,t,n),console.log(this.$pageHeader,this.$pageHeader),r=e+t+50>n,this.$el.find(".wizard-next-step").toggleClass("fixed",r)}});return r}),define("tpl!templates/form.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<form id="signup_form" action="',form_action,'" class="form max-width-wrap" method="POST" enctype="multipart/form-data"><input type="hidden" name="interests[]" value="3"><input type="hidden" name="life_assist[answers]" value="',selectedAnswers,'"><input type="hidden" name="life_assist[packages]" value="',selectedPackages,'"><input type="hidden" name="life_assist[target_email]" value="',targetEmail,'"><div class="form-row clearfix">    <h2 class="form-row-heading">Your Details</h2></div><div class="form-row clearfix"><div class="form-item"><label>Title*</label><div class="fake-select"><div class="select-val">Please select</div><div class="fake-toggle"><div class="icon icon--arrow-down icon--dark-gray"></div></div><select name="title" class="required"><option value="">Please select</option><option value="Miss" ',title=="Miss"?"selected":"",'>Miss</option><option value="Mr" ',title=="Mr"?"selected":"",'>Mr.</option><option value="Mrs" ',title=="Mrs"?"selected":"",'>Mrs.</option><option value="Ms" ',title=="Ms"?"selected":"",'>Ms.</option><option value="Dr" ',title=="Dr"?"selected":"",'>Dr.</option><option value="other" ',title=="other"?"selected":"",'>Other</option></select></div></div><div class="form-item form-item-comment"><em>* Mandatory Fields</em></div></div> <!-- .form-row clearfix --><div class="form-row clearfix"><div class="form-item"><label>First Name*</label><input type="text" class="text-input required" name="first_name" value="',first_name||"",'"></div><div class="form-item"><label>Last Name*</label><input type="text" class="text-input required" name="last_name" value="',last_name,'"></div></div> <!-- .form-row clearfix --><div class="form-row clearfix"><div class="form-item"><label>Phone*</label><input type="text" class="text-input required" name="home_phone" value="',home_phone,'"></div><div class="form-item"><label>Phone Other</label><input type="text" class="text-input" name="mobile" value="',mobile,'"></div></div> <!-- .form-row clearfix --><div class="form-row clearfix"><div class="form-item"><label>Email</label><input type="text" class="text-input email" name="email" value="',email,'"></div><div class="form-item"><label>Preferred Method of Contact*</label><div class="fake-select"><div class="select-val">Please select</div><div class="fake-toggle"><div class="icon icon--arrow-down icon--dark-gray"></div></div><select name="life_assist[method_of_contact]" class="required js-method-of-contact" data-target="js-interpreter-form-row"><option value="">Please select</option><option value="phone" ',method_of_contact=="phone"?"selected":"",'>Phone</option><option value="email" ',method_of_contact=="email"?"selected":"",'>Email</option></select></div></div></div> <!-- .form-row clearfix --><div class="form-row clearfix js-interpreter-form-row ',method_of_contact=="phone"?"":"form-row--hidden",'">    <div class="form-item">        <label>Will an interpreter be required?</label>        <div class="fake-select">            <div class="select-val">No</div>            <div class="fake-toggle">                <div class="icon icon--arrow-down icon--dark-gray"></div>            </div>            <select name="life_assist[personal_interpreter]" class="js-interpreter">                <option ',personal_interpreter!="yes"?"selected":"",' value="no">No</option>                <option ',personal_interpreter=="yes"?"selected":"",' value="yes">Yes</option>            </select>        </div>    </div>    <div class="form-item ',personal_interpreter=="yes"?"":"disabled",'">        <label>Language</label>        <input type="text" class="text-input js-language" name="life_assist[personal_interpreter_language]" ',personal_interpreter=="yes"?"":"disabled",'  value="',personal_interpreter_language,'">    </div></div> <!-- .form-row clearfix --><div class="form-row clearfix">    <div class="form-item">        <label>Suburb*</label>        <input type="text" class="text-input required js-suburb-suggest" name="suburb" value="',suburb,'" data-state-select="state-select-1">    </div>    <div class="form-item">        <label>State*</label>        <div class="fake-select">            <div class="select-val">Please select</div>            <div class="fake-toggle">                <div class="icon icon--arrow-down icon--dark-gray"></div>            </div>            <select name="state" class="required" id="state-select-1">                <option value="">Please select</option>                <option ',state=="ACT"?"selected":"",' value="ACT">ACT</option>                <option ',state=="NSW"?"selected":"",' value="NSW">NSW</option>                <option ',state=="NT"?"selected":"",' value="NT">NT</option>                <option ',state=="QLD"?"selected":"",' value="QLD">QLD</option>                <option ',state=="SA"?"selected":"",' value="SA">SA</option>                <option ',state=="TAS"?"selected":"",' value="TAS">TAS</option>                <option ',state=="VIC"?"selected":"",' value="VIC">VIC</option>                <option ',state=="WA"?"selected":"",' value="WA">WA</option>            </select>        </div>    </div></div> <!-- .form-row clearfix --><div class="form-row clearfix">    <div class="form-item form-item--full">        <label>When will services be required</label>        <div class="fake-select">            <div class="select-val">Please select</div>            <div class="fake-toggle">                <div class="icon icon--arrow-down icon--dark-gray"></div>            </div>            <select name="life_assist[services_start]" class="">                <option value="">Please select</option>                <option ',services_start=="within next month"?"selected":"",' value="within next month">Within the next month</option>                <option ',services_start=="within next week"?"selected":"",' value="within next week">Within in the next week</option>                <option ',services_start=="asap"?"selected":"",' value="asap">As soon as possible</option>            </select>        </div>    </div></div> <!-- .form-row clearfix -->'),enquiryReference==="family"&&__p.push('<!-- EXTRA FIELDS :: FRIEND OR FAMILY --><div class="extra-form-fields friend" style="display:block;">    <div class="form-row clearfix">        <h2 class="form-row-heading">Friend/Family Member\'s Details</h2>    </div>        <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>The details of the person who needs assistance (if you are enquiring on behalf of someone else):</label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Name</label>            <input type="text" class="text-input" name="life_assist[family_name]" value="',family_name,'">        </div>        <div class="form-item">            <label>Relationship</label>            <input type="text" class="text-input" name="life_assist[family_relationship]" value="',family_relationship,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Suburb</label>            <input type="text" class="text-input js-suburb-suggest" name="life_assist[family_suburb]" value="',family_suburb,'" data-state-select="state-select-2">        </div>        <div class="form-item">            <label>State</label>            <div class="fake-select">                <div class="select-val">Please select</div>                <div class="fake-toggle">                    <div class="icon icon--arrow-down icon--dark-gray"></div>                </div>                <select name="life_assist[family_state]" class="" id="state-select-2">                    <option value="">Please select</option>                <option ',family_state=="ACT"?"selected":"",' value="ACT">ACT</option>                <option ',family_state=="NSW"?"selected":"",' value="NSW">NSW</option>                <option ',family_state=="NT"?"selected":"",' value="NT">NT</option>                <option ',family_state=="QLD"?"selected":"",' value="QLD">QLD</option>                <option ',family_state=="SA"?"selected":"",' value="SA">SA</option>                <option ',family_state=="TAS"?"selected":"",' value="TAS">TAS</option>                <option ',family_state=="VIC"?"selected":"",' value="VIC">VIC</option>                <option ',family_state=="WA"?"selected":"",' value="WA">WA</option>                </select>            </div>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Phone</label>            <input type="text" class="text-input" name="life_assist[family_phone]" value="',family_phone,'">        </div>        <div class="form-item">            <label>Email</label>            <input type="text" class="text-input email" name="life_assist[family_email]" value="',family_email,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Preferred Method of Contact</label>            <div class="fake-select">                <div class="select-val">Please select</div>                <div class="fake-toggle">                    <div class="icon icon--arrow-down icon--dark-gray"></div>                </div>                <select name="life_assist[family_method_of_contact]" class="">                    <option value="">Please select</option>                    <option ',family_method_of_contact=="phone"?"selected":"",' value="phone">Phone</option>                    <option ',family_method_of_contact=="email"?"selected":"",' value="email">Email</option>                </select>            </div>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Who should <srong>lifeAssist</srong> contact?</label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item variable">            <label class="radio" for="family_who_to_contact_1">                <input type="radio" class="required" name="life_assist[family_who_to_contact]" id="family_who_to_contact_1" value="person enquiring" ',family_who_to_contact!="person requiring assistance"?"checked":"",'>                <div class="fake-radio"></div>                You            </label>        </div>        <div class="form-item variable">            <label class="radio" for="family_who_to_contact_2">                <input type="radio" class="required" name="life_assist[family_who_to_contact]" id="family_who_to_contact_2" value="person requiring assistance" ',family_who_to_contact=="person requiring assistance"?"checked":"",'>                <div class="fake-radio"></div>                The person requiring assistance            </label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Will an interpreter be required?</label>            <div class="fake-select">                <div class="select-val">No</div>                <div class="fake-toggle">                    <div class="icon icon--arrow-down icon--dark-gray"></div>                </div>                <select name="life_assist[family_interpreter]" class="js-interpreter">                    <option ',family_interpreter!="yes"?"selected":"",' value="no" selected>No</option>                    <option ',family_interpreter=="yes"?"selected":"",' value="yes">Yes</option>                </select>            </div>        </div>        <div class="form-item ',family_interpreter!="yes"?"disabled":"",'">            <label>Language</label>            <input type="text" class="text-input js-language" name="life_assist[family_interpreter_language]" ',family_interpreter!="yes"?"disabled":"",' value="',family_interpreter_language,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <h3 class="form-row-heading">            Please ensure you have the person\'s consent to share this information with lifeAssist and permission for lifeAssist to contact them.        </h3>    </div>    <div class="form-row clearfix">        <div class="form-item form-item--checkbox form-item--checkbox-left form-item--full">            <label>                <span class="fake-checkbox">                    <input type="checkbox" name="life_assist[family_consent]" value="yes" class="required" ',family_consent=="yes"?"checked":"",'>                    <span class="icon icon--check icon--dark-gray"></span>                </span>                <strong>YES</strong>, I have permission to provide the above personal details and give/have gained consent for lifeAssist to make contact regarding the above information.            </label>        </div>    </div> <!-- .form-row clearfix --></div> <!-- extra form fields -->'),__p.push(""),enquiryReference==="patient"&&__p.push('<!-- EXTRA FIELDS :: CLIENT OR PATIENT --><div class="extra-form-fields patient" style="display:block;">    <div class="form-row clearfix">        <h2 class="form-row-heading">Client/Patient\'s Details</h2>    </div>    <div class="form-row clearfix">        <div class="form-item">            <label>Your Relationship to the Client/Patient</label>            <input type="text" class="text-input" name="life_assist[patient_relationship]" value="',patient_relationship,'">        </div>        <div class="form-item">            <label>Hospital Discharge Date</label>            <input type="text" class="text-input" name="life_assist[patient_discharge_date]" placeholder="dd/mm/yyyy" value="',patient_discharge_date,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Clinical Diagnosis (list if multiple)</label>            <textarea name="life_assist[patient_diagnosis]" cols="30" rows="10" class="text-input">',patient_diagnosis,'</textarea>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <h4>Formal Supports</h4>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item variable">            <label class="radio" for="patient_formal_supports_1">                <input type="radio" class="" name="life_assist[patient_formal_supports]" id="patient_formal_supports_1" value="yes" ',patient_formal_supports=="yes"?"checked":"",'>                <div class="fake-radio"></div>                Yes            </label>        </div>        <div class="form-item variable">            <label class="radio" for="patient_formal_supports_2">                <input type="radio" class="" name="life_assist[patient_formal_supports]" id="patient_formal_supports_2" value="no" ',patient_formal_supports=="no"?"checked":"",'>                <div class="fake-radio"></div>                No            </label>        </div>        <div class="form-item variable">            <label class="radio" for="patient_formal_supports_3">                <input type="radio" class="" name="life_assist[patient_formal_supports]" id="patient_formal_supports_3" value="none reported" ',patient_formal_supports=="none reported"?"checked":"",'>                <div class="fake-radio"></div>                None Reported            </label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Details</label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Case Manager/Agency</label>            <input type="text" class="text-input" name="life_assist[patient_formal_support_case_manager]" value="',patient_formal_support_case_manager,'">        </div>        <div class="form-item">            <label>Contact</label>            <input type="text" class="text-input" name="life_assist[patient_formal_support_contact]" value="',patient_formal_support_contact,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Type</label>            <input type="text" class="text-input" name="life_assist[patient_formal_support_type]" value="',patient_formal_support_type,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <h4>Known Carers (Informal Support)</h4>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item variable">            <label class="radio" for="patinformal1">                <input type="radio" class="" name="life_assist[patient_informal_support]" id="patinformal1" value="yes" ',patient_informal_support=="yes"?"checked":"",'>                <div class="fake-radio"></div>                Yes            </label>        </div>        <div class="form-item variable">            <label class="radio" for="patinformal2">                <input type="radio" class="" name="life_assist[patient_informal_support]" id="patinformal2" value="no" ',patient_informal_support=="no"?"checked":"",'>                <div class="fake-radio"></div>                No            </label>        </div>        <div class="form-item variable">            <label class="radio" for="patinformal3">                <input type="radio" class="" name="life_assist[patient_informal_support]" id="patinformal3" value="none reported" ',patient_informal_support=="none reported"?"checked":"",'>                <div class="fake-radio"></div>                None Reported            </label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Details</label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Name/Relationship</label>            <input type="text" class="text-input" name="life_assist[patient_informal_support_name]" value="',patient_informal_support_name,'">        </div>        <div class="form-item">            <label>Contact</label>            <input type="text" class="text-input" name="life_assist[patient_informal_support_contact]" value="',patient_informal_support_contact,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-row clearfix">            <div class="form-item form-item--full">                <label>Service Type</label>                <input type="text" class="text-input" name="life_assist[patient_informal_support_type]" value="',patient_informal_support_type,'">            </div>        </div> <!-- .form-row clearfix -->    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <h3>Client/Patient details</h3>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Name</label>            <input type="text" class="text-input" name="life_assist[patient_name]" value="',patient_name,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Suburb of Residence</label>            <input type="text" class="text-input js-suburb-suggest" name="life_assist[patient_suburb]" value="',patient_suburb,'" data-state-select="state-select-3">        </div>        <div class="form-item">            <label>State of Residence</label>            <div class="fake-select">                <div class="select-val">Please select</div>                <div class="fake-toggle">                    <div class="icon icon--arrow-down icon--dark-gray"></div>                </div>                <select name="life_assist[patient_state]" class="" id="state-select-3">                    <option value="">Please select</option>                <option ',patient_state=="ACT"?"selected":"",' value="ACT">ACT</option>                <option ',patient_state=="NSW"?"selected":"",' value="NSW">NSW</option>                <option ',patient_state=="NT"?"selected":"",' value="NT">NT</option>                <option ',patient_state=="QLD"?"selected":"",' value="QLD">QLD</option>                <option ',patient_state=="SA"?"selected":"",' value="SA">SA</option>                <option ',patient_state=="TAS"?"selected":"",' value="TAS">TAS</option>                <option ',patient_state=="VIC"?"selected":"",' value="VIC">VIC</option>                <option ',patient_state=="WA"?"selected":"",' value="WA">WA</option>                </select>            </div>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Phone</label>            <input type="text" class="text-input" name="life_assist[patient_phone]" value="',patient_phone,'">        </div>        <div class="form-item">            <label>Email</label>            <input type="text" class="text-input email" name="life_assist[patient_email]" value="',patient_email,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Their Preferred Method of Contact</label>            <div class="fake-select">                <div class="select-val">Please select</div>                <div class="fake-toggle">                    <div class="icon icon--arrow-down icon--dark-gray"></div>                </div>                <select name="life_assist[patient_method_of_contact]" class="">                    <option value="">Please select</option>                    <option ',patient_method_of_contact=="phone"?"selected":"",' value="phone">Phone</option>                    <option ',patient_method_of_contact=="email"?"selected":"",' value="email">Email</option>                </select>            </div>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Who should <srong>lifeAssist</srong> contact?</label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item variable">            <label class="radio" for="pat_who_to_contact1">                <input type="radio" class="required" name="life_assist[patient_who_to_contact]" id="pat_who_to_contact1" value="person enquiring" ',patient_who_to_contact!="patient/client"?"checked":"",'>                <div class="fake-radio"></div>                You            </label>        </div>        <div class="form-item variable">            <label class="radio" for="pat_who_to_contact2">                <input type="radio" class="required" name="life_assist[patient_who_to_contact]" id="pat_who_to_contact2" value="patient/client" ',patient_who_to_contact=="patient/client"?"checked":"",'>                <div class="fake-radio"></div>                The patient/client            </label>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item">            <label>Will an interpreter be required?</label>            <div class="fake-select">                <div class="select-val">No</div>                <div class="fake-toggle">                    <div class="icon icon--arrow-down icon--dark-gray"></div>                </div>                <select name="life_assist[patient_interpreter]" class="js-interpreter">                    <option ',patient_interpreter!="yes"?"selected":"",' value="no" selected>No</option>                    <option ',patient_interpreter=="yes"?"selected":"",' value="yes">Yes</option>                </select>            </div>        </div>        <div class="form-item ',patient_interpreter!="yes"?"disabled":"",'">            <label>Language</label>            <input type="text" class="text-input js-language" name="life_assist[patient_interpreter_language]" ',patient_interpreter!="yes"?"disabled":"",'  value="',patient_interpreter_language,'">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <h4>Document Upload</h4>        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <div class="form-item form-item--full">            <label>Please attach any supporting documentation (PDF or Word DOC format only)</label>            <input type="file" name="uploads" data-accept="application/pdf,msword,vnd.openxmlformats-officedocument.wordprocessingml.document">        </div>    </div> <!-- .form-row clearfix -->    <div class="form-row clearfix">        <h3 class="form-row-heading">            Please ensure you have the person\'s consent to share this information with lifeAssist and permission for lifeAssist to contact them.        </h3>    </div>    <div class="form-row clearfix">        <div class="form-item form-item--checkbox form-item--checkbox-left form-item--full">            <label>                <span class="fake-checkbox">                    <input type="checkbox" name="life_assist[patient_consent]" value="yes" class="required" ',patient_consent=="yes"?"checked":"",'>                    <span class="icon icon--check icon--dark-gray"></span>                </span>                <strong>YES</strong>, I have discussed with the consumer how and why certain information may be shared with other service providers. I am satisfied that this has been understood and that informed consent for the information to be shared as detailed has been given.            </label>        </div>    </div> <!-- .form-row clearfix --></div> <!-- .extra-form-fields -->'),__p.push('<div class="form-row clearfix">    <div class="form-item form-item--full">        <label>Do you identify as any of the following:</label>        <div class="fake-select">            <div class="select-val">Please select</div>            <div class="fake-toggle">                <div class="icon icon--arrow-down icon--dark-gray"></div>            </div>            <select name="life_assist[identify_as]" class="">                <option value="">Please select</option>                <option value="Culturally or linguistically diverse community">Culturally or linguistically diverse community</option>                <option value="Aboriginal or Torres Strait Islander">Aboriginal or Torres Strait Islander</option>                <option value="GLBTIQ community member">GLBTIQ community member</option>                <option value="homeless ">homeless </option>                <option value="survivor of family violence">survivor of family violence</option>                <option value="financially disadvantaged">financially disadvantaged</option>                <option value="Rather not say">Rather not say</option>                <option value="yes, but prefer to disclose verbally">yes, but prefer to disclose verbally</option>                <option value="none of the above">none of the above</option>            </select>        </div>    </div></div> <!-- .form-row clearfix --><div class="form-row clearfix"><div class="form-item form-item--full"><label>Comments</label><textarea name="life_assist[msg_comments]" cols="30" rows="10" class="text-input">',msg_comments,'</textarea></div></div> <!-- .form-row clearfix --><div class="form-row form-row-submit clearfix"><div class="form-item form-item--checkbox form-item--smaller"><label>I have read the lifeAssist privacy policy*<span class="fake-checkbox"><input type="checkbox" name="terms" value="yes" ',terms==="yes"?"checked":"",' class="required"><span class="icon icon--check icon--dark-gray"></span></span></label></div><div class="form-item form-item--smallprint"><div class="smallprint">',smallprint,'</div></div></div> <!-- .form-row clearfix --><div class="form-row form-row-submit clearfix"><div class="form-item form-item-action form-item--left"><button class="btn btn--orange" type="submit"><span class="btn-state-default">SUBMIT YOUR DETAILS</span><span class="btn-state-sending"><img src="/templates/life_assist/img/site/icon_loader_orange.gif" width="16" height="16" alt=""></span><span class="btn-state-done">THANK YOU</span></button></div></div> <!-- .form-row clearfix --></form> <!-- .form -->');return __p.join("")}}),define("views/form_view",["marionette","tpl!templates/form.tpl"],function(e,t){var n=e.ItemView.extend({template:t,ui:{form:"#signup_form",textInputs:"input[type=text], textarea",checkboxes:"input[type=checkbox]",radios:"input[type=radio]",selects:"select"},events:{"input @ui.textInputs":"saveDataToModel","change .js-suburb-suggest":"saveDataToModel","change @ui.selects":"selectChange","change @ui.checkboxes":"saveDataToModel","change @ui.radios":"saveDataToModel","change .js-method-of-contact":"toggleInterpreterInputs","change .js-interpreter":"toggleLanguageInput"},isSending:!1,onRender:function(){this.initFakeUi(),this.initValidatePlugin(),this.initSuburbSuggest()},initSuburbSuggest:function(){this.$(".js-suburb-suggest").suburbSuggestions()},initialize:function(e){this.app=e.app,this.model.set("enquiryReference",this.app.appModel.enquiryReference()),this.listenTo(this.app,"enable:form",this.enableForm)},initFakeUi:function(){_.each(this.ui.selects,function(e){this.fakeSelect(e)},this)},selectChange:function(e){this.fakeSelect(e.currentTarget),this.saveDataToModel(e)},fakeSelect:function(e){var t=$(e),n=t.find("option:selected").text()||"&nbsp;";t.siblings(".select-val").html(n)},saveDataToModel:function(e){console.log("input change",e);var t=$(e.currentTarget),n=t.attr("name"),r=t.val();n=n.replace("life_assist[","").replace("]",""),console.log("-- setting form model attribute:",n,r),this.model.set(n,r),this.saveFormDataToApp()},saveFormDataToApp:function(){var e=this.model.toJSON();return this.app.appModel.set("formData",e),e},initValidatePlugin:function(){var e=this;console.log("initValidatePlugin",this.ui.form),this.ui.form.validate({errorElement:"em",submitHandler:function(t){var n=$(t),r=n.attr("action")||"#",i=n.find("input[name=email]"),s=i.val();if(e.isSending)return;e.isSending=!0,n.addClass("form-sending"),r==="#"?(console.log("Sending via AJAX!"),e.app.vent.trigger("wizard:form:submit")):($.trim(s)===""&&i.val("test@example.com"),console.log("Normal form submit!"),t.submit())},highlight:function(e,t){$(e).closest(".form-item").addClass(t)},unhighlight:function(e,t){$(e).closest(".form-item").removeClass(t)}})},enableForm:function(){isSending=!1,$(this.ui.form).removeClass("form-sending")},toggleInterpreterInputs:function(e){var t=$(e.currentTarget),n=t.val(),r=t.data("target"),i=this.$("."+r);n==="phone"?i.slideDown():i.slideUp()},toggleLanguageInput:function(e){var t=$(e.currentTarget),n=t.val(),r=t.closest(".form-row").find(".js-language"),i=n!=="yes";r.prop("disabled",i),r.closest(".form-item").toggleClass("disabled",i)}});return n}),define("tpl!templates/package_list.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="package-list-wrap"></div><div class="package-list-empty">Please select at least 1 package from your available options.<br><a href="#" class="btn btn--orange">BACK TO OPTIONS</a></div>');return __p.join("")}}),define("tpl!templates/package.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="package-close">    <div class="icon icon--cross icon--dark-gray"></div></div><div class="package-heading">',answer,'</div><div class="package-description">    <p>',shortText,"</p></div>");return __p.join("")}}),define("views/package_list_view",["marionette","tpl!templates/package_list.tpl","tpl!templates/package.tpl"],function(e,t,n){var r=e.ItemView.extend({template:n,className:"package",ui:{removeBtn:".package-close"},events:{"click @ui.removeBtn":"removePackage"},removePackage:function(){this.trigger("remove:package",{action:"remove",id:this.model.get("id")}),this.$el.slideUp()}}),i=e.CompositeView.extend({className:"package-list",template:t,itemView:r,itemViewContainer:".package-list-wrap",packageCount:0,ui:{backBtn:".package-list-empty .btn",emptyWarning:".package-list-empty"},events:{"click @ui.backBtn":"backToOptions"},initialize:function(e){this.app=e.app,this.on("itemview:remove:package",this.triggerRemovePackage),this.packageCount=this.collection.length},triggerRemovePackage:function(e,t){this.app.vent.trigger("toggle:package",t),this.packageCount-=1,this.packageCount===0&&this.showWarning()},showWarning:function(){this.ui.emptyWarning.slideDown()},backToOptions:function(){this.app.vent.trigger("show:step",5)}});return i}),define("tpl!templates/done.tpl",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="max-width-wrap"><div class="wizard-done-msg"><p>Submission successful.</p><p>One of lifeAssist\'s friendly staff will contact you.</p></div></div>');return __p.join("")}}),define("views/done_view",["marionette","tpl!templates/done.tpl"],function(e,t){var n=e.ItemView.extend({template:t,events:{click:"triggerFirstStep"},initialize:function(e){this.app=e.app},triggerFirstStep:function(){this.app.vent.trigger("show:step",1)}});return n}),define("helpers/email_generator",[],function(){var e={createFormData:function(e){var t=e.appModel.get("formData"),n={title:t.title,first_name:t.first_name,last_name:t.last_name,home_phone:t.home_phone,mobile:t.mobile,email:t.email,postcode:t.postcode,suburb:t.suburb,state:t.state,"interests[]":3,"life_assist[method_of_contact]":t.method_of_contact,"life_assist[msg_comments]":t.msg_comments,"life_assist[personal_interpreter]":t.personal_interpreter,"life_assist[personal_interpreter_language]":t.personal_interpreter_language,"life_assist[services_start]":t.services_start,"life_assist[family_name]":t.family_name,"life_assist[family_relationship]":t.family_relationship,"life_assist[family_suburb]":t.family_suburb,"life_assist[family_state]":t.family_state,"life_assist[family_phone]":t.family_phone,"life_assist[family_email]":t.family_email,"life_assist[family_method_of_contact]":t.family_method_of_contact,"life_assist[family_who_to_contact]":t.family_who_to_contact,"life_assist[family_interpreter]":t.family_interpreter,"life_assist[family_interpreter_language]":t.family_interpreter_language,"life_assist[family_consent]":t.family_consent,"life_assist[patient_relationship]":t.patient_relationship,"life_assist[patient_discharge_date]":t.patient_discharge_date,"life_assist[patient_diagnosis]":t.patient_diagnosis,"life_assist[patient_formal_supports]":t.patient_formal_supports,"life_assist[patient_formal_support_case_manager]":t.patient_formal_support_case_manager,"life_assist[patient_formal_support_contact]":t.patient_formal_support_contact,"life_assist[patient_formal_support_type]":t.patient_formal_support_type,"life_assist[patient_informal_support]":t.patient_informal_support,"life_assist[patient_informal_support_name]":t.patient_informal_support_name,"life_assist[patient_informal_support_contact]":t.patient_informal_support_contact,"life_assist[patient_informal_support_type]":t.patient_informal_support_type,"life_assist[patient_name]":t.patient_name,"life_assist[patient_suburb]":t.patient_suburb,"life_assist[patient_state]":t.patient_state,"life_assist[patient_phone]":t.patient_phone,"life_assist[patient_email]":t.patient_email,"life_assist[patient_method_of_contact]":t.patient_method_of_contact,"life_assist[patient_who_to_contact]":t.patient_who_to_contact,"life_assist[patient_interpreter]":t.patient_interpreter,"life_assist[patient_interpreter_language]":t.patient_interpreter_language,"life_assist[patient_consent]":t.patient_consent};return n["life_assist[answers]"]=this.getSelectedAnswers(e),n["life_assist[packages]"]=this.getSelectedPackages(e),n["life_assist[target_email]"]=this.setTargetEmail(e),console.log("formData",n),n},getSelectedPackages:function(e){var t=e.appModel.get("selectedPackages"),n=_.map(t,function(t){return e.answerCollection.findWhere({id:t})});return n=_.map(n,function(e){return e.get("answer")}),n="- "+n.join("\n- "),n},getSelectedAnswers:function(e){var t=e.appModel.get("selectedAnswers"),n=e.answerCollection.filter(function(e){return e.get("id")!==null&&_.indexOf(t,e.get("id"))>-1});return n=_.map(n,function(e){return e.get("answer")}),n="- "+n.join("\r\n- "),n},setTargetEmail:function(e){var t=e.appModel.get("selectedAnswers");return _.some(t,function(e){return e===88881||e===88882||e===88883})?"ndis@lifeassist.org.au":appModel.enquiryReference()==="patient"?"referrals@lifeassist.org.au":"help@lifeassist.org.au"}};return e}),define("controllers/step_controller",["wizard","models/form_model","views/final_step_layout","views/answer_list_view","views/form_view","views/package_list_view","views/done_view","helpers/email_generator"],function(e,t,n,r,i,s,o,u){return e.module("Controllers",function(e,a,f,l,c,h){window.EmailGenerator=u,e.StepController={},e.StepController.showStep=function(t){console.log("@controller:StepController.showStep",t);if(typeof t!="number"||t<1||t>6)throw new Error("Invalid step number: "+t);a.appModel.set("currentStep",t);if(t===6){this.showForm();return}var n=a.appModel.getParentAnswerForStep(t),i=a.answerCollection.getAnswers({step:t,parentAnswer:n,disabilityPath:a.appModel.get("step_2_breadcrumb")==="Disability"}),s;console.log("SHOW STEP:"),console.log("parentAnswer",n),console.log("answersForStep",i),s=new r({app:a,model:new f.Model({stepShowing:t}),collection:new f.Collection(i)}),e.StepController.switchMainView(s)},e.StepController.showForm=function(){console.log("@controller:StepController.showForm");var r=a.appModel.get("formData");r.form_action=a.emailFormAction,r.selectedAnswers=u.getSelectedAnswers(a),r.selectedPackages=u.getSelectedPackages(a),r.targetEmail=u.setTargetEmail(a);var s=new n,o=new i({model:new t(r),app:a}),f=e.StepController._createStepSummaryView(),l=e.StepController._createPackageListView();s.on("show",function(){var e=this.$el;setTimeout(function(){e.addClass("animate-in")},16),this.formRegion.show(o),this.packageListRegion.show(l),this.stepSummaryRegion.show(f)}),e.StepController.switchMainView(s)},e.StepController._createPackageListView=function(){var e=a.appModel.get("selectedPackages"),t=a.answerCollection.filter(function(t){return e.indexOf(t.get("id"))>-1}),n=new s({collection:new f.Collection(t),app:a});return n},e.StepController._createStepSummaryView=function(){var e=a.appModel.get("selectedAnswers");e=e.slice(1,5);var t=a.answerCollection.filter(function(t){return e.indexOf(t.get("id"))>-1});t=new f.Collection(t),console.log("collection",t);var n=l.ItemView.extend({tagName:"li",render:function(){var e=this.model.get("answer");return this.$el.html(e),this}}),r=l.CollectionView.extend({itemView:n});return new r({collection:t})},e.StepController.setAnswerForStep=function(e){console.log("@controller:StepController.setAnswerForStep",e);var t=e.step,n=e.next,r=e.answer,i=e.breadcrumb||" - ",s=e.isNDISOption,o={},u=a.appModel.get("lastCompletedStep");if(!t||!n||n<6&&!r)throw new Error("Can set answer for this step, missing parameters!");console.log("lastCompletedStep",u,"current step",t),t<=u&&a.appModel.resetStepsFrom(t),n>t+1&&a.appModel.setInactiveBetween(t,n),s&&this.togglePackage({id:88884,action:"add"}),o.lastCompletedStep=t,o["step_"+t+"_status"]="done",o["step_"+t+"_breadcrumb"]=i,o["step_"+n+"_status"]="active",a.appModel.set(o),t<5&&a.appModel.setAnswer(t,r),this.showStep(n)},e.StepController.togglePackage=function(e){var t=e.id,n=e.action;if(!t||n!=="add"&&n!=="remove")throw new Error("Cannot toggle package, invalid params.");n==="add"?a.appModel.addPackage(t):a.appModel.removePackage(t)},e.StepController.sendForm=function(){console.log("@StepController:sendForm");var e=!1,t=u.createFormData(a),n=new o({app:a}),r=c.Deferred(),i=r.promise(),s=c.Deferred(),f=s.promise(),l=c.Deferred(),h=l.promise(),p=[];p.push(h),setTimeout(function(){console.log("RESOLVING!"),l.resolve()},2500),t.email&&t.email!==""&&(e||c.ajax({url:a.clientEmailFormAction+".js",dataType:"jsonp",data:t}).always(function(){s.resolve()}),p.push(f)),e||c.ajax({url:a.emailFormAction+".js",dataType:"jsonp",data:t}).always(function(){r.resolve()}),p.push(i),c.when.apply(null,p).always(function(){typeof window.ga=="function"&&ga("send","event","Form","click","contactus"),a.appModel.resetStepsFrom(1),a.appModel.set("currentStep",1),a.answerRegion.show(n)})},e.StepController.switchMainView=function(e){var t=a.answerRegion.currentView,n=1e3;if(!t){a.answerRegion.show(e);return}t.$el.removeClass("animate-in").addClass("animate-out"),setTimeout(function(){a.answerRegion.show(e)},n)}}),e.Controllers}),define("router",["wizard","controllers/step_controller"],function(e,t){return e.module("Router",function(e,t,n,r,i,s){t.vent.on("show:step",function(e){console.log("ROUTER","show:step",arguments),t.Controllers.StepController.showStep(e)}),t.vent.on("show:form",function(){console.log("ROUTER","show:form",arguments),t.Controllers.StepController.showForm()}),t.vent.on("answer:selected",function(e){console.log("ROUTER","answer:selected",e),t.Controllers.StepController.setAnswerForStep(e)}),t.vent.on("toggle:package",function(e){console.log("ROUTER","toggle:package",e),t.Controllers.StepController.togglePackage(e)}),t.vent.on("alert:no:packages",function(){t.alert("Please select at least 1 package.")}),t.vent.on("wizard:form:submit",function(){t.Controllers.StepController.sendForm()})}),e.Router}),define("jquery",[],function(){return jQuery}),requirejs.config({baseUrl:"/templates/life_assist/js/dev/wizard/",paths:{backbone:"../../libs/backbone",marionette:"../../libs/backbone.marionette.min",underscore:"../../libs/underscore",tpl:"../../libs/tpl"},shim:{backbone:{exports:"Backbone"},marionette:{deps:["backbone"],exports:"Marionette"},underscore:{exports:"_"}}}),require(["wizard","router"],function(e,t){window.Wizard=e,e.start()}),define("main",function(){});